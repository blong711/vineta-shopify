<section class="s-faq flat-spacing-25">
  {% if section.settings.width == 'boxed' %}
    <div class="container">
  {% endif %}
    <div class="row">
      <div class="col-lg-4">
        <div class="sb-contact">
          <p class="title">{{ section.settings.contact_title }}</p>
          <p class="sub">{{ section.settings.contact_text_1 }}</p>
          <p class="sub">{{ section.settings.contact_text_2 }}</p>
          <div class="btn-group">
            <a href="{{ section.settings.contact_button_link }}" class="tf-btn btn-fill hover-primary">
              {{ section.settings.contact_button_text }}
            </a>
            <a href="{{ section.settings.chat_button_link }}" class="tf-btn btn-white hover-primary">
              {{ section.settings.chat_button_text }}
            </a>
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <ul class="faq-list">
          {% assign categories = section.blocks | map: 'settings' | map: 'category' | uniq %}
          {% for category in categories %}
            <li class="faq-item">
              <p class="name-faq">{{ category }}</p>
              <div class="faq-wrap" id="accordion{{ forloop.index }}">
                {% for block in section.blocks %}
                  {% if block.type == 'faq_question' and block.settings.category == category %}
                    <div class="widget-accordion" {{ block.shopify_attributes }}>
                      <div class="accordion-title {% unless forloop.first %}collapsed{% endunless %}" 
                           data-bs-toggle="collapse"
                           data-bs-target="#collapse{{ block.id }}" 
                           aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}"
                           aria-controls="collapse{{ block.id }}" 
                           role="button">
                        <span>{{ block.settings.question }}</span>
                        <span class="icon icon-arrow-down"></span>
                      </div>
                      <div id="collapse{{ block.id }}" 
                           class="accordion-collapse collapse {% if forloop.first %}show{% endif %}"
                           aria-labelledby="heading{{ block.id }}" 
                           data-bs-parent="#accordion{{ forloop.parentloop.index }}">
                        <div class="accordion-body">
                          {{ block.settings.answer }}
                        </div>
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  {% if section.settings.width == 'boxed' %}
    </div>
  {% endif %}
</section>

{% schema %}
{
  "name": "FAQ",
  "settings": [
    {
      "type": "select",
      "id": "width",
      "label": "Section width",
      "options": [
        {
          "value": "full",
          "label": "Full width"
        },
        {
          "value": "boxed",
          "label": "Boxed"
        }
      ],
      "default": "boxed"
    },
    {
      "type": "text",
      "id": "contact_title",
      "label": "Contact Title",
      "default": "Contact Us"
    },
    {
      "type": "text",
      "id": "contact_text_1",
      "label": "Contact Text 1",
      "default": "If you have an issue or question that requires immediate assistance, you can click the button below to chat live with a Customer Service representative."
    },
    {
      "type": "text",
      "id": "contact_text_2",
      "label": "Contact Text 2",
      "default": "Please allow 06 - 12 business days from the time your package arrives back to us for a refund to be issued."
    },
    {
      "type": "text",
      "id": "contact_button_text",
      "label": "Contact Button Text",
      "default": "Contact us"
    },
    {
      "type": "url",
      "id": "contact_button_link",
      "label": "Contact Button Link"
    },
    {
      "type": "text",
      "id": "chat_button_text",
      "label": "Chat Button Text",
      "default": "Chat with us"
    },
    {
      "type": "url",
      "id": "chat_button_link",
      "label": "Chat Button Link"
    }
  ],
  "blocks": [
    {
      "type": "faq_question",
      "name": "FAQ Question",
      "settings": [
        {
          "type": "text",
          "id": "category",
          "label": "Category",
          "default": "General Questions"
        },
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "How can I help you?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>This is the answer to your question.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ",
      "blocks": [
        {
          "type": "faq_question",
          "settings": {
            "category": "Shopping Information",
            "question": "How long will it take for my order to ship?",
            "answer": "<p>Orders are typically processed within 1-2 business days and shipped via standard delivery within 3-5 business days.</p>"
          }
        },
        {
          "type": "faq_question",
          "settings": {
            "category": "Shopping Information",
            "question": "Do you offer free shipping?",
            "answer": "<p>Yes, we offer free standard shipping on orders over $50.</p>"
          }
        },
        {
          "type": "faq_question",
          "settings": {
            "category": "Payment Information",
            "question": "What payment methods do you accept?",
            "answer": "<p>We accept all major credit cards, PayPal, and bank transfers.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %} 