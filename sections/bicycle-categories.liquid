<!-- Category -->
<section>
  <div class="container">
    <div class="flat-title-v2 style-2 text-center justify-items-center wow fadeInUp">
      <a href="{{ section.settings.categories_link }}" class="tf-btn btn-out-line-green btn-small text-uppercase">
        {{ section.settings.categories_text }}
      </a>
      <h4>{{ section.settings.heading }}</h4>
    </div>
  </div>
  <div class="slider-layout-right">
    <div dir="ltr" class="swiper tf-swiper tf-sw-right" data-swiper='{
      "slidesPerView": 2,
      "spaceBetween": 12,
      "speed": 1000,
      "observer": true,
      "observeParents": true,
      "slidesPerGroup": 2,
      "pagination": { "el": ".sw-pagination-cls-2", "clickable": true },
      "breakpoints": {
        "768": { "slidesPerView": 2.7, "spaceBetween": 12, "slidesPerGroup": 2 },
        "992": { "slidesPerView": 3.7, "spaceBetween": 24, "slidesPerGroup": 3 },
        "1200": { "slidesPerView": 4.7, "spaceBetween": 24, "slidesPerGroup": 3 }
      }
    }'>
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          {% assign collection = collections[block.settings.collection] %}
          {% if collection != blank %}
            <div class="swiper-slide" {{ block.shopify_attributes }}>
              <div class="wg-cls style-abs type-2 hover-img">
                <a href="{{ collection.url }}" class="image img-style d-block">
                  {% if collection.featured_image != blank %}
                    <img src="{{ collection.featured_image | img_url: 'master' }}"
                      data-src="{{ collection.featured_image | img_url: 'master' }}" 
                      alt="{{ collection.title | escape }}"
                      class="lazyload">
                  {% endif %}
                </a>
                <div class="cls-btn text-center">
                  <a href="{{ collection.url }}" class="tf-btn btn-cls btn-white hover-dark">
                    {{ collection.title }}
                  </a>
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
      <div class="d-flex d-xl-none sw-dot-default sw-pagination-cls-2 justify-content-center"></div>
    </div>
  </div>
</section>
<!-- /Category -->

{% schema %}
{
  "name": "Bicycle Categories",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "categories_text",
      "label": "Categories Button Text",
      "default": "Categories"
    },
    {
      "type": "url",
      "id": "categories_link",
      "label": "Categories Link"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Explore a variety of high-performance bikes, built for speed, durability, and adventure."
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Bicycle Categories",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "collection": "bikes"
          }
        },
        {
          "type": "category",
          "settings": {
            "collection": "e-bikes"
          }
        },
        {
          "type": "category",
          "settings": {
            "collection": "apparels"
          }
        },
        {
          "type": "category",
          "settings": {
            "collection": "components"
          }
        },
        {
          "type": "category",
          "settings": {
            "collection": "batteries"
          }
        }
      ]
    }
  ]
}
{% endschema %} 