<section class="flat-spacing-3 overflow-hidden">
  <div class="container">
    <div class="flat-title wow fadeInUp">
      <h4 class="title">{{ section.settings.section_title }}</h4>
    </div>
    <div class="fl-control-sw2 pos2 wow fadeInUp">
      <div dir="ltr" class="swiper tf-swiper wrap-sw-over" 
        data-swiper='{
          "slidesPerView": 2,
          "spaceBetween": 12,
          "speed": 800,
          "slidesPerGroup": 2,
          "navigation": {
            "clickable": true,
            "nextEl": ".nav-next-seller",
            "prevEl": ".nav-prev-seller"
          },
          "pagination": { 
            "el": ".sw-pagination-seller", 
            "clickable": true 
          },
          "breakpoints": {
            "768": { 
              "slidesPerView": 3, 
              "spaceBetween": 12, 
              "slidesPerGroup": 3 
            },
            "1200": { 
              "slidesPerView": {{ section.settings.products_to_show }}, 
              "spaceBetween": 24, 
              "slidesPerGroup": {{ section.settings.products_to_show }}
            }
          }
        }'>
        <div class="swiper-wrapper">
          {%- for block in section.blocks -%}
            <div class="swiper-slide" {{ block.shopify_attributes }}>
              {% render 'card-product',
                product: block.settings.product,
                style: 'style-4',
                show_sale_badge: true,
                show_color_swatches: true,
                selected_variant: block.settings.product.selected_or_first_available_variant
              %}
            </div>
          {%- endfor -%}
        </div>
        <div class="d-flex d-xl-none sw-dot-default sw-pagination-seller justify-content-center"></div>
      </div>
      <div class="d-none d-xl-flex swiper-button-next nav-swiper nav-next-seller"></div>
      <div class="d-none d-xl-flex swiper-button-prev nav-swiper nav-prev-seller"></div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Best Sellers",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Best Sellers"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 2,
      "max": 6,
      "step": 1,
      "label": "Products to show at once",
      "default": 4,
      "info": "Number of products visible in the slider at the same time"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "select",
      "id": "title_font",
      "label": "Title font",
      "options": [
        { "value": "font-1", "label": "Font 1" },
        { "value": "font-2", "label": "Font 2" }
      ],
      "default": "font-1"
    },
    {
      "type": "select",
      "id": "title_size",
      "label": "Title size",
      "options": [
        { "value": "text-lg", "label": "Large" },
        { "value": "text-xl", "label": "Extra Large" },
        { "value": "display-sm", "label": "Display Small" },
        { "value": "display-md", "label": "Display Medium" }
      ],
      "default": "text-xl"
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Title weight",
      "options": [
        { "value": "fw-normal", "label": "Normal" },
        { "value": "fw-medium", "label": "Medium" },
        { "value": "fw-semibold", "label": "Semibold" },
        { "value": "fw-bold", "label": "Bold" }
      ],
      "default": "fw-medium"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "section_bg_color",
      "label": "Section background color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Slider Settings"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Enable autoplay",
      "default": true
    },
    {
      "type": "range",
      "id": "autoplay_speed",
      "min": 2000,
      "max": 9000,
      "step": 500,
      "unit": "ms",
      "label": "Autoplay delay",
      "default": 5000
    },
    {
      "type": "checkbox",
      "id": "loop",
      "label": "Enable loop",
      "default": true
    },
    {
      "type": "range",
      "id": "speed",
      "min": 100,
      "max": 2000,
      "step": 100,
      "unit": "ms",
      "label": "Transition speed",
      "default": 800
    },
    {
      "type": "checkbox",
      "id": "show_arrows",
      "label": "Show navigation arrows",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "Show pagination dots",
      "default": true
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 0
    },
    {
      "type": "range",
      "id": "space_between",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Space between products",
      "default": 24
    }
  ],
  "max_blocks": 12,
  "blocks": [
    {
      "type": "product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "header",
          "content": "Product Card Settings"
        },
        {
          "type": "checkbox",
          "id": "show_sale_badge",
          "label": "Show sale badge",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_color_swatches",
          "label": "Show color swatches",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_quick_view",
          "label": "Show quick view button",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_wishlist",
          "label": "Show wishlist button",
          "default": true
        },
        {
          "type": "select",
          "id": "product_card_style",
          "label": "Product card style",
          "options": [
            { "value": "style-1", "label": "Style 1" },
            { "value": "style-2", "label": "Style 2" },
            { "value": "style-3", "label": "Style 3" },
            { "value": "style-4", "label": "Style 4" }
          ],
          "default": "style-4"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Best Sellers",
      "settings": {
        "section_title": "Best Sellers",
        "products_to_show": 4
      },
      "blocks": [
        {
          "type": "product"
        },
        {
          "type": "product"
        },
        {
          "type": "product"
        },
        {
          "type": "product"
        }
      ]
    }
  ]
}
{% endschema %}