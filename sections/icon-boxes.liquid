{% schema %}
  {
    "name": "Icon Box",
    "settings": [
      {
        "type": "select",
        "id": "layout",
        "label": "Layout Style",
        "options": [
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "home-electronic",
            "label": "Home Electronic"
          },
          {
            "value": "bicycle",
            "label": "Home Bicycle"
          },
          {
            "value": "phonecase",
            "label": "Home Phonecase"
          }
        ],
        "default": "default"
      },
      {
        "type": "header",
        "content": "Typography"
      },
      {
        "type": "checkbox",
        "id": "enable_custom_fonts",
        "label": "Enable custom fonts",
        "default": false
      },
      {
        "type": "select",
        "id": "title_font",
        "label": "Title font",
        "options": [
          { "value": "font-1", "label": "Font 1" },
          { "value": "font-2", "label": "Font 2" }
        ],
        "default": "font-1",
        "info": "Only applies when custom fonts are enabled"
      },
      {
        "type": "select",
        "id": "title_size",
        "label": "Title size",
        "options": [
          { "value": "text-sm", "label": "Small" },
          { "value": "text-md", "label": "Medium" },
          { "value": "text-lg", "label": "Large" },
          { "value": "text-xl", "label": "Extra Large" }
        ],
        "default": "text-md",
        "info": "Only applies when custom fonts are enabled"
      },
      {
        "type": "select",
        "id": "title_weight",
        "label": "Title weight",
        "options": [
          { "value": "fw-normal", "label": "Normal" },
          { "value": "fw-medium", "label": "Medium" },
          { "value": "fw-semibold", "label": "Semibold" },
          { "value": "fw-bold", "label": "Bold" }
        ],
        "default": "fw-medium",
        "info": "Only applies when custom fonts are enabled"
      },
      {
        "type": "select",
        "id": "description_font",
        "label": "Description font",
        "options": [
          { "value": "font-1", "label": "Font 1" },
          { "value": "font-2", "label": "Font 2" }
        ],
        "default": "font-1",
        "info": "Only applies when custom fonts are enabled"
      },
      {
        "type": "select",
        "id": "description_size",
        "label": "Description size",
        "options": [
          { "value": "text-xs", "label": "Extra Small" },
          { "value": "text-sm", "label": "Small" },
          { "value": "text-md", "label": "Medium" }
        ],
        "default": "text-sm",
        "info": "Only applies when custom fonts are enabled"
      },
      {
        "type": "select",
        "id": "description_weight",
        "label": "Description weight",
        "options": [
          { "value": "fw-normal", "label": "Normal" },
          { "value": "fw-medium", "label": "Medium" }
        ],
        "default": "fw-normal",
        "info": "Only applies when custom fonts are enabled"
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "id": "title_color",
        "label": "Title color",
        "default": "#000000"
      },
      {
        "type": "color",
        "id": "description_color",
        "label": "Description color",
        "default": "#666666"
      },
      {
        "type": "color",
        "id": "icon_color",
        "label": "Icon color",
        "default": "#108066"
      },
      {
        "type": "header",
        "content": "Animation"
      },
      {
        "type": "checkbox",
        "id": "enable_animation",
        "label": "Enable animation",
        "default": true
      },
      {
        "type": "select",
        "id": "animation_type",
        "label": "Animation type",
        "options": [
          { "value": "fadeIn", "label": "Fade In" },
          { "value": "fadeInUp", "label": "Fade In Up" },
          { "value": "fadeInDown", "label": "Fade In Down" },
          { "value": "fadeInLeft", "label": "Fade In Left" },
          { "value": "fadeInRight", "label": "Fade In Right" }
        ],
        "default": "fadeInLeft",
        "info": "Only applies when animation is enabled"
      },
      {
        "type": "range",
        "id": "animation_delay",
        "min": 0,
        "max": 1,
        "step": 0.1,
        "unit": "s",
        "label": "Animation delay",
        "default": 0.1,
        "info": "Only applies when animation is enabled"
      },
      {
        "type": "header",
        "content": "Spacing"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 200,
        "step": 4,
        "unit": "px",
        "label": "Top padding",
        "default": 0
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 200,
        "step": 4,
        "unit": "px",
        "label": "Bottom padding",
        "default": 0
      },
      {
        "type": "range",
        "id": "icon_size",
        "min": 20,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Icon size",
        "default": 48
      },
      {
        "type": "range",
        "id": "icon_spacing",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Icon spacing",
        "default": 16
      },
      {
        "type": "header",
        "content": "Slider Settings"
      },
      {
        "type": "range",
        "id": "slides_per_view_mobile",
        "min": 1,
        "max": 3,
        "step": 1,
        "label": "Slides per view (Mobile)",
        "default": 2
      },
      {
        "type": "range",
        "id": "slides_per_view_tablet",
        "min": 2,
        "max": 4,
        "step": 1,
        "label": "Slides per view (Tablet)",
        "default": 3
      },
      {
        "type": "range",
        "id": "slides_per_view_desktop",
        "min": 3,
        "max": 6,
        "step": 1,
        "label": "Slides per view (Desktop)",
        "default": 4
      },
      {
        "type": "range",
        "id": "space_between",
        "min": 0,
        "max": 60,
        "step": 5,
        "label": "Space between slides",
        "default": 10
      },
      {
        "type": "checkbox",
        "id": "show_pagination",
        "label": "Show pagination",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "icon_box",
        "name": "Icon Box",
        "settings": [
          {
            "type": "select",
            "id": "icon",
            "label": "Icon",
            "options": [
              {
                "value": "icon-shipping",
                "label": "Shipping"
              },
              {
                "value": "icon-gift",
                "label": "Gift"
              },
              {
                "value": "icon-return",
                "label": "Return"
              },
              {
                "value": "icon-support",
                "label": "Support"
              },
              {
                "value": "icon-sun",
                "label": "Sun"
              }
            ],
            "default": "icon-shipping"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Free Shipping"
          },
          {
            "type": "text",
            "id": "description",
            "label": "Description (Default layout only)",
            "default": "Enjoy free shipping on all orders",
            "info": "This field is only shown in the default layout"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Icon Box",
        "category": "Features",
        "blocks": [
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-shipping",
              "title": "Free Shipping",
              "description": "Enjoy free shipping on all orders"
            }
          },
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-gift",
              "title": "Gift Package",
              "description": "Perfectly packaged for gifting"
            }
          },
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-return",
              "title": "Free Returns",
              "description": "Within 14 days for a return"
            }
          },
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-support",
              "title": "Support Online",
              "description": "We support customers 24/7"
            }
          }
        ]
      }
    ]
  }
{% endschema %}

<div class="{% if section.settings.layout == 'home-electronic' %}line-top flat-spacing-7{% elsif section.settings.layout == 'bicycle' %}flat-spacing-2{% elsif section.settings.layout == 'phonecase' %}bg-white mx_40 my_20 radius-16 flat-iconbox line-2{% else %}line-top flat-spacing-5{% endif %}" 
     style="background-color: {{ section.settings.background_color }}; padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
    <div class="{% if section.settings.layout == 'phonecase' %}container-5{% else %}container{% endif %}">
        {% if section.settings.layout == 'default' %}
            <div class="mw-1 m-auto">
        {% endif %}
        <div dir="ltr" class="swiper tf-swiper {% if section.settings.layout == 'home-electronic' %}tf-sw-iconbox-row{% endif %}" data-swiper='{% if section.settings.layout == "phonecase" %}{
            "slidesPerView": 1,
            "spaceBetween": 12,
            "speed": 800,
            "observer": true,
            "observeParents": true,
            "slidesPerGroup": 1,
            "pagination": { "el": ".sw-pagination-iconbox", "clickable": true },
            "breakpoints": {
                "575": { "slidesPerView": 2, "spaceBetween": 24},
                "1200": { "slidesPerView": 3, "spaceBetween": 60},
                "1440": { "slidesPerView": 3, "spaceBetween": 120}
            }
        }{% else %}{
            "slidesPerView": {% if section.settings.layout == 'bicycle' %}1{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
            "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% else %}{{ section.settings.space_between }}{% endif %},
            "speed": {% if section.settings.layout == 'bicycle' %}1000{% else %}800{% endif %},
            "observer": true,
            "observeParents": true,
            "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
            "pagination": { "el": ".sw-pagination-iconbox", "clickable": true },
            "breakpoints": {
                "575": { 
                    "slidesPerView": {% if section.settings.layout == 'bicycle' %}2{% elsif section.settings.layout == 'home-electronic' %}2{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'home-electronic' %}12{% else %}{{ section.settings.space_between }}{% endif %},
                    "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                },
                "768": { 
                    "slidesPerView": {% if section.settings.layout == 'bicycle' %}2{% elsif section.settings.layout == 'home-electronic' %}3{% else %}{{ section.settings.slides_per_view_tablet }}{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'home-electronic' %}24{% else %}{{ section.settings.space_between }}{% endif %},
                    "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                },
                "1200": { 
                    "slidesPerView": {% if section.settings.layout == 'bicycle' %}3{% elsif section.settings.layout == 'home-electronic' %}4{% else %}4{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'bicycle' %}24{% elsif section.settings.layout == 'home-electronic' %}59{% else %}42{% endif %},
                    "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                }
            }
        }{% endif %}'>
            <div class="swiper-wrapper">
                {% for block in section.blocks %}
                    <div class="swiper-slide" {{ block.shopify_attributes }}>
                        {% if section.settings.layout == 'phonecase' %}
                            <div class="tf-icon-box-v2 justify-content-center {% if forloop.first %}justify-content-sm-start{% else %}justify-content-center{% endif %}">
                                <i class="icon {{ block.settings.icon }}" style="color: {{ section.settings.icon_color }}; font-size: {{ section.settings.icon_size }}px;"></i>
                                <div class="title {% if section.settings.enable_custom_fonts %}{{ section.settings.title_font }} {{ section.settings.title_size }} {{ section.settings.title_weight }}{% endif %}" style="color: {{ section.settings.title_color }};">{{ block.settings.title }}</div>
                            </div>
                        {% else %}
                            <div class="tf-icon-box {% if section.settings.layout == 'home-electronic' %}style-3{% elsif section.settings.layout == 'bicycle' %}style-lg{% else %}style-2{% endif %} {% if section.settings.enable_animation %}wow {{ section.settings.animation_type }}{% endif %}" 
                                 {% if section.settings.enable_animation and forloop.index > 1 %}data-wow-delay="{{ forloop.index | minus: 1 | times: section.settings.animation_delay }}s"{% endif %}>
                                {% if section.settings.layout == 'bicycle' %}
                                    {% case block.settings.icon %}
                                        {% when 'icon-shipping' %}
                                            <svg width="{{ section.settings.icon_size }}" height="{{ section.settings.icon_size }}" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M52.4934 21.674C52.4829 21.4218 52.4088 21.1763 52.278 20.9605C52.1472 20.7446 51.9639 20.5653 51.7452 20.4393L33.2482 9.75421C33.0207 9.62286 32.7627 9.55371 32.5 9.55371C32.2373 9.55371 31.9792 9.62286 31.7517 9.75421L13.2473 20.4393C13.02 20.5705 12.8312 20.7592 12.6999 20.9864C12.5686 21.2136 12.4993 21.4714 12.499 21.7338V42.266C12.4993 42.5285 12.5686 42.7862 12.6999 43.0134C12.8312 43.2406 13.02 43.4293 13.2473 43.5605L31.7517 54.2456C31.9792 54.377 32.2373 54.4461 32.5 54.4461C32.7627 54.4461 33.0207 54.377 33.2482 54.2456L51.7526 43.5605C51.9799 43.4293 52.1687 43.2406 52.3 43.0134C52.4314 42.7862 52.5006 42.5285 52.5009 42.266V21.7338C52.5009 21.7338 52.4934 21.6964 52.4934 21.674Z" fill="{{ section.settings.icon_color }}"/>
                                            </svg>
                                        {% when 'icon-return' %}
                                            <svg width="{{ section.settings.icon_size }}" height="{{ section.settings.icon_size }}" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M34.5392 14.5393C26.0761 14.5393 19.0059 20.5928 17.4169 28.5939L14.098 24.4449L12 26.1238L17.3726 32.8395C17.6345 33.1659 18.024 33.3432 18.4216 33.3432C18.6244 33.3432 18.8298 33.2975 19.022 33.2022L27.0808 29.1727L25.8787 26.7699L19.9568 29.7302C21.0555 22.6599 27.1654 17.2256 34.5392 17.2256C42.6854 17.2256 49.3138 23.8539 49.3138 32.0001C49.3138 40.1463 42.6854 46.7746 34.5392 46.7746V49.4609C44.1668 49.4609 52 41.6277 52 32.0001C52 22.3725 44.1668 14.5393 34.5392 14.5393Z" fill="{{ section.settings.icon_color }}"/>
                                            </svg>
                                        {% when 'icon-support' %}
                                            <svg width="{{ section.settings.icon_size }}" height="{{ section.settings.icon_size }}" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M49.8573 26.1742C49.3295 24.5398 49.5545 22.0864 48.1827 20.1921C46.8 18.2829 44.3952 17.7403 43.0373 16.7471C41.6938 15.7645 40.4438 13.6261 38.1837 12.8886C35.9873 12.1719 33.7414 13.1445 32 13.1445C30.2588 13.1445 28.013 12.1717 25.8163 12.8885C23.5566 13.6259 22.3056 15.7647 20.9629 16.7469C19.6065 17.7389 17.1999 18.283 15.8175 20.1919C14.4468 22.0846 14.6695 24.5436 14.1427 26.1741C13.6413 27.7259 12 29.5883 12 32.0002C12 34.4135 13.6394 36.2688 14.1427 37.8262C14.6705 39.4606 14.4455 41.9139 15.8173 43.8082C17.1999 45.7175 19.6046 46.2601 20.9627 47.2533C22.306 48.2358 23.5562 50.3743 25.8163 51.1117C28.0112 51.828 30.2606 50.8559 32 50.8559C33.737 50.8559 35.9916 51.827 38.1837 51.1118C40.4434 50.3745 41.6937 48.2361 43.0371 47.2535C44.3935 46.2615 46.8001 45.7174 48.1825 43.8085C49.5533 41.9157 49.3304 39.4569 49.8573 37.8263C50.3587 36.2744 52 34.412 52 32.0002C52 29.587 50.361 27.7323 49.8573 26.1742Z" fill="{{ section.settings.icon_color }}"/>
                                            </svg>
                                    {% endcase %}
                                {% else %}
                                    <div class="box-icon" style="margin-bottom: {{ section.settings.icon_spacing }}px;">
                                        <i class="icon {{ block.settings.icon }}" style="color: {{ section.settings.icon_color }}; font-size: {{ section.settings.icon_size }}px;"></i>
                                    </div>
                                {% endif %}
                                <div class="content">
                                    <div class="title {% if section.settings.enable_custom_fonts %}{{ section.settings.title_font }} {{ section.settings.title_size }} {{ section.settings.title_weight }}{% endif %} {% if section.settings.layout == 'home-electronic' %}text-uppercase{% endif %}" style="color: {{ section.settings.title_color }};">{{ block.settings.title }}</div>
                                    {% unless section.settings.layout == 'home-electronic' %}
                                        <p class="desc {% if section.settings.enable_custom_fonts %}{{ section.settings.description_font }} {{ section.settings.description_size }} {{ section.settings.description_weight }}{% endif %}" style="color: {{ section.settings.description_color }};">{{ block.settings.description }}</p>
                                    {% endunless %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            {% if section.settings.show_pagination %}
                <div class="d-flex d-xl-none sw-dot-default sw-pagination-iconbox justify-content-center"></div>
            {% endif %}
        </div>
        {% if section.settings.layout == 'default' %}
            </div>
        {% endif %}
    </div>
</div> 