{% schema %}
{
  "name": "Icon Box",
  "settings": [
    {
      "type": "select",
      "id": "layout",
      "label": "Layout Style",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "home-electronic",
          "label": "Home Electronic"
        },
        {
          "value": "bicycle",
          "label": "Home Bicycle"
        },
        {
          "value": "phonecase",
          "label": "Home Phonecase"
        }
      ],
      "default": "default"
    },
    {
      "type": "header",
      "content": "Slider Settings"
    },
    {
      "type": "range",
      "id": "slides_per_view_mobile",
      "min": 1,
      "max": 3,
      "step": 1,
      "label": "Slides per view (Mobile)",
      "default": 2
    },
    {
      "type": "range",
      "id": "slides_per_view_tablet",
      "min": 2,
      "max": 4,
      "step": 1,
      "label": "Slides per view (Tablet)",
      "default": 3
    },
    {
      "type": "range",
      "id": "slides_per_view_desktop",
      "min": 3,
      "max": 6,
      "step": 1,
      "label": "Slides per view (Desktop)",
      "default": 4
    },
    {
      "type": "range",
      "id": "space_between",
      "min": 0,
      "max": 60,
      "step": 5,
      "label": "Space between slides",
      "default": 10
    },
    {
      "type": "checkbox",
      "id": "show_pagination",
      "label": "Show pagination",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "icon_box",
      "name": "Icon Box",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "icon-shipping",
              "label": "Shipping"
            },
            {
              "value": "icon-gift",
              "label": "Gift"
            },
            {
              "value": "icon-return",
              "label": "Return"
            },
            {
              "value": "icon-support",
              "label": "Support"
            }
          ],
          "default": "icon-shipping"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Free Shipping"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description (Default layout only)",
          "default": "Enjoy free shipping on all orders",
          "info": "This field is only shown in the default layout"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Icon Box",
      "category": "Features",
      "blocks": [
        {
          "type": "icon_box",
          "settings": {
            "icon": "icon-shipping",
            "title": "Free Shipping",
            "description": "Enjoy free shipping on all orders"
          }
        },
        {
          "type": "icon_box",
          "settings": {
            "icon": "icon-gift",
            "title": "Gift Package",
            "description": "Perfectly packaged for gifting"
          }
        },
        {
          "type": "icon_box",
          "settings": {
            "icon": "icon-return",
            "title": "Free Returns",
            "description": "Within 14 days for a return"
          }
        },
        {
          "type": "icon_box",
          "settings": {
            "icon": "icon-support",
            "title": "Support Online",
            "description": "We support customers 24/7"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<div class="{% if section.settings.layout == 'home-electronic' %}line-top flat-spacing-7{% elsif section.settings.layout == 'bicycle' %}flat-spacing-2{% elsif section.settings.layout == 'phonecase' %}bg-white mx_40 my_20 radius-16 flat-iconbox line-2{% else %}flat-spacing-4{% endif %}">
    <div class="{% if section.settings.layout == 'phonecase' %}container-5{% else %}container{% endif %}">
        <div dir="ltr" class="swiper tf-swiper {% if section.settings.layout == 'home-electronic' %}tf-sw-iconbox-row{% endif %}" data-swiper='{
            "slidesPerView": {% if section.settings.layout == 'bicycle' %}1{% elsif section.settings.layout == 'phonecase' %}1{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
            "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'phonecase' %}12{% else %}{{ section.settings.space_between }}{% endif %},
            "speed": {% if section.settings.layout == 'bicycle' %}1000{% elsif section.settings.layout == 'phonecase' %}800{% else %}800{% endif %},
            "observer": true,
            "observeParents": true,
            "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% elsif section.settings.layout == 'phonecase' %}1{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
            "pagination": { "el": ".sw-pagination-iconbox", "clickable": true },
            "breakpoints": {
                "575": { 
                    "slidesPerView": {% if section.settings.layout == 'bicycle' %}2{% elsif section.settings.layout == 'home-electronic' %}2{% elsif section.settings.layout == 'phonecase' %}2{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'home-electronic' %}12{% elsif section.settings.layout == 'phonecase' %}24{% else %}{{ section.settings.space_between }}{% endif %},
                    "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                },
                "768": { 
                    "slidesPerView": {% if section.settings.layout == 'bicycle' %}2{% elsif section.settings.layout == 'home-electronic' %}3{% elsif section.settings.layout == 'phonecase' %}2{% else %}{{ section.settings.slides_per_view_tablet }}{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'home-electronic' %}24{% elsif section.settings.layout == 'phonecase' %}24{% else %}{{ section.settings.space_between }}{% endif %},
                    "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                },
                "1200": { 
                    "slidesPerView": {% if section.settings.layout == 'bicycle' %}3{% elsif section.settings.layout == 'home-electronic' %}4{% elsif section.settings.layout == 'phonecase' %}3{% else %}{{ section.settings.slides_per_view_desktop }}{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'bicycle' %}24{% elsif section.settings.layout == 'home-electronic' %}59{% elsif section.settings.layout == 'phonecase' %}60{% else %}{{ section.settings.space_between }}{% endif %},
                    "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                },
                "1440": {
                    "slidesPerView": {% if section.settings.layout == 'phonecase' %}3{% else %}null{% endif %},
                    "spaceBetween": {% if section.settings.layout == 'phonecase' %}120{% else %}null{% endif %}
                }
            }
        }'>
            <div class="swiper-wrapper">
                {% for block in section.blocks %}
                    <div class="swiper-slide" {{ block.shopify_attributes }}>
                        <div class="tf-icon-box {% if section.settings.layout == 'home-electronic' %}style-3 wow fadeInLeft{% elsif section.settings.layout == 'bicycle' %}style-lg wow fadeInLeft{% elsif section.settings.layout == 'phonecase' %}tf-icon-box-v2 justify-content-center justify-content-sm-start{% else %}style-2{% endif %}" {% if section.settings.layout != 'default' and forloop.index > 1 %}data-wow-delay="{{ forloop.index | minus: 1 | times: 0.1 }}s"{% endif %}>
                            {% if section.settings.layout == 'bicycle' %}
                                {% case block.settings.icon %}
                                    {% when 'icon-shipping' %}
                                        <svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M52.4934 21.674C52.4829 21.4218 52.4088 21.1763 52.278 20.9605C52.1472 20.7446 51.9639 20.5653 51.7452 20.4393L33.2482 9.75421C33.0207 9.62286 32.7627 9.55371 32.5 9.55371C32.2373 9.55371 31.9792 9.62286 31.7517 9.75421L13.2473 20.4393C13.02 20.5705 12.8312 20.7592 12.6999 20.9864C12.5686 21.2136 12.4993 21.4714 12.499 21.7338V42.266C12.4993 42.5285 12.5686 42.7862 12.6999 43.0134C12.8312 43.2406 13.02 43.4293 13.2473 43.5605L31.7517 54.2456C31.9792 54.377 32.2373 54.4461 32.5 54.4461C32.7627 54.4461 33.0207 54.377 33.2482 54.2456L51.7526 43.5605C51.9799 43.4293 52.1687 43.2406 52.3 43.0134C52.4314 42.7862 52.5006 42.5285 52.5009 42.266V21.7338C52.5009 21.7338 52.4934 21.6964 52.4934 21.674ZM32.5 12.7772L48.0114 21.7563L32.5 30.6905L16.9886 21.7114L32.5 12.7772ZM15.4921 24.3228L31.0034 33.2794V50.3622L15.4921 41.3831V24.3228ZM33.9965 50.3622V33.2794L49.5079 24.3003V41.4055L33.9965 50.3622Z" fill="#108066"/>
                                        </svg>
                                    {% when 'icon-return' %}
                                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M34.5392 14.5393C26.0761 14.5393 19.0059 20.5928 17.4169 28.5939L14.098 24.4449L12 26.1238L17.3726 32.8395C17.6345 33.1659 18.024 33.3432 18.4216 33.3432C18.6244 33.3432 18.8298 33.2975 19.022 33.2022L27.0808 29.1727L25.8787 26.7699L19.9568 29.7302C21.0555 22.6599 27.1654 17.2256 34.5392 17.2256C42.6854 17.2256 49.3138 23.8539 49.3138 32.0001C49.3138 40.1463 42.6854 46.7746 34.5392 46.7746V49.4609C44.1668 49.4609 52 41.6277 52 32.0001C52 22.3725 44.1668 14.5393 34.5392 14.5393Z" fill="#108066"/>
                                        </svg>
                                    {% when 'icon-support' %}
                                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M49.8573 26.1742C49.3295 24.5398 49.5545 22.0864 48.1827 20.1921C46.8 18.2829 44.3952 17.7403 43.0373 16.7471C41.6938 15.7645 40.4438 13.6261 38.1837 12.8886C35.9873 12.1719 33.7414 13.1445 32 13.1445C30.2588 13.1445 28.013 12.1717 25.8163 12.8885C23.5566 13.6259 22.3056 15.7647 20.9629 16.7469C19.6065 17.7389 17.1999 18.283 15.8175 20.1919C14.4468 22.0846 14.6695 24.5436 14.1427 26.1741C13.6413 27.7259 12 29.5883 12 32.0002C12 34.4135 13.6394 36.2688 14.1427 37.8262C14.6705 39.4606 14.4455 41.9139 15.8173 43.8082C17.1999 45.7175 19.6046 46.2601 20.9627 47.2533C22.306 48.2358 23.5562 50.3743 25.8163 51.1117C28.0112 51.828 30.2606 50.8559 32 50.8559C33.737 50.8559 35.9916 51.827 38.1837 51.1118C40.4434 50.3745 41.6937 48.2361 43.0371 47.2535C44.3935 46.2615 46.8001 45.7174 48.1825 43.8085C49.5533 41.9157 49.3304 39.4569 49.8573 37.8263C50.3587 36.2744 52 34.412 52 32.0002C52 29.587 50.361 27.7323 49.8573 26.1742ZM46.8838 36.8653C46.2686 38.7696 46.4298 40.9008 45.6516 41.9753C44.863 43.0642 42.7913 43.5615 41.1926 44.7309C39.6114 45.8872 38.5032 47.7203 37.2143 48.1408C35.9949 48.5388 34.0077 47.7307 32 47.7307C29.9777 47.7307 28.011 48.5405 26.7858 48.1408C25.497 47.7203 24.3904 45.8885 22.8075 44.7308C21.2183 43.5685 19.1347 43.061 18.3484 41.9752C17.5727 40.9042 17.7278 38.7583 17.1163 36.8654C16.517 35.0108 15.125 33.4049 15.125 32.0002C15.125 30.594 16.5157 28.9937 17.1162 27.135C17.7314 25.2308 17.5702 23.0995 18.3484 22.025C19.1365 20.9369 21.2098 20.4379 22.8075 19.2695C24.3937 18.1094 25.4949 16.2807 26.7856 15.8596C28.004 15.4621 29.9977 16.2696 31.9999 16.2696C34.0259 16.2696 35.9877 15.4593 37.2142 15.8596C38.5028 16.28 39.6104 18.1125 41.1926 19.2696C42.7816 20.4318 44.8653 20.9394 45.6516 22.0251C46.4274 23.0963 46.2715 25.24 46.8837 27.1349V27.1349C47.483 28.9896 48.875 30.5954 48.875 32.0002C48.875 33.4064 47.4843 35.0067 46.8838 36.8653ZM39.1987 26.9849C39.8089 27.5952 39.8089 28.5845 39.1987 29.1946L31.3779 37.0154C30.7677 37.6257 29.7783 37.6256 29.1681 37.0154L24.8014 32.6487C24.1912 32.0385 24.1911 31.0492 24.8013 30.439C25.4116 29.8289 26.401 29.8288 27.011 30.439L30.273 33.7009L36.9888 26.985C37.5991 26.3748 38.5884 26.3748 39.1987 26.9849Z" fill="#108066"/>
                                        </svg>
                                {% endcase %}
                            {% else %}
                                <div class="box-icon">
                                    <i class="icon {% if section.settings.layout == 'phonecase' %}icon-sun{% else %}{{ block.settings.icon }}{% endif %}"></i>
                                </div>
                            {% endif %}
                            <div class="content">
                                <div class="title {% if section.settings.layout == 'home-electronic' %}text-uppercase{% endif %}">{{ block.settings.title }}</div>
                                {% unless section.settings.layout == 'home-electronic' or section.settings.layout == 'phonecase' %}
                                    <p class="desc">{{ block.settings.description }}</p>
                                {% endunless %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            {% if section.settings.show_pagination %}
                <div class="d-flex d-xl-none sw-dot-default sw-pagination-iconbox justify-content-center"></div>
            {% endif %}
        </div>
    </div>
</div> 