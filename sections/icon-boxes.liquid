{% schema %}
  {
    "name": "Icon Box",
    "settings": [
      {
        "type": "select",
        "id": "layout",
        "label": "Layout Style",
        "options": [
          {
            "value": "default",
            "label": "Layout 1"
          },
          {
            "value": "home-electronic",
            "label": "Layout 2"
          },
          {
            "value": "home-fashion-02",
            "label": "Layout 3"
          },
          {
            "value": "bicycle",
            "label": "Layout 4"
          },
          {
            "value": "phonecase",
            "label": "Layout 5"
          }
        ],
        "default": "default"
      },
      {
        "type": "header",
        "content": "Slider Settings"
      },
      {
        "type": "range",
        "id": "slides_per_view_mobile",
        "min": 1,
        "max": 3,
        "step": 1,
        "label": "Slides per view (Mobile)",
        "default": 2
      },
      {
        "type": "checkbox",
        "id": "show_pagination",
        "label": "Show pagination on mobile",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "icon_box",
        "name": "Icon Box",
        "settings": [
          {
            "type": "select",
            "id": "icon",
            "label": "Icon",
            "options": [
              {
                "value": "icon-shipping",
                "label": "Shipping"
              },
              {
                "value": "icon-gift",
                "label": "Gift"
              },
              {
                "value": "icon-return",
                "label": "Return"
              },
              {
                "value": "icon-support",
                "label": "Support"
              },
              {
                "value": "icon-sun",
                "label": "Sun"
              }
            ],
            "default": "icon-shipping"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Free Shipping"
          },
          {
            "type": "text",
            "id": "description",
            "label": "Description (Default layout only)",
            "default": "Enjoy free shipping on all orders",
            "info": "This field is only shown in the layout 1 and 2"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Icon Box",
        "category": "Features",
        "blocks": [
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-shipping",
              "title": "Free Shipping",
              "description": "Enjoy free shipping on all orders"
            }
          },
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-gift",
              "title": "Gift Package",
              "description": "Perfectly packaged for gifting"
            }
          },
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-return",
              "title": "Free Returns",
              "description": "Within 14 days for a return"
            }
          },
          {
            "type": "icon_box",
            "settings": {
              "icon": "icon-support",
              "title": "Support Online",
              "description": "We support customers 24/7"
            }
          }
        ]
      }
    ]
  }
  {% endschema %}
  
  <div class="{% if section.settings.layout == 'home-fashion-02' %}line-top flat-spacing-7{% elsif section.settings.layout == 'home-electronic' %}flat-spacing-18{% elsif section.settings.layout == 'bicycle' %}flat-spacing-2{% elsif section.settings.layout == 'phonecase' %}bg-white mx_40 my_20 radius-16 flat-iconbox line-2{% else %}line-top flat-spacing-5{% endif %}">
      <div class="{% if section.settings.layout == 'phonecase' %}container-5{% else %}container{% endif %}" style="padding-left: 15px; padding-right: 15px;">
          {% if section.settings.layout == 'default' or section.settings.layout == 'home-fashion-02' %}
              <div class="mw-1 m-auto">
          {% endif %}
          {% if section.settings.layout == 'home-electronic' %}
            <div class="mw-1 m-auto flat-spacing-7">
        {% endif %}
          <div dir="ltr" class="swiper tf-swiper {% if section.settings.layout == 'home-electronic' or section.settings.layout == 'home-fashion-02' %}tf-sw-iconbox-row{% endif %}" data-swiper='{% if section.settings.layout == "phonecase" %}{
              "slidesPerView": 1,
              "spaceBetween": 12,
              "speed": 800,
              "observer": true,
              "observeParents": true,
              "slidesPerGroup": 1,
              "pagination": { "el": ".sw-pagination-iconbox", "clickable": true },
              "breakpoints": {
                  "575": { "slidesPerView": 2, "spaceBetween": 24},
                  "1200": { "slidesPerView": 3, "spaceBetween": 60},
                  "1440": { "slidesPerView": 3, "spaceBetween": 120}
              }
          }{% else %}{
              "slidesPerView": {% if section.settings.layout == 'bicycle' %}1{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
              "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% else %}12{% endif %},
              "speed": {% if section.settings.layout == 'bicycle' %}1000{% else %}800{% endif %},
              "observer": true,
              "observeParents": true,
              "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
              "pagination": { "el": ".sw-pagination-iconbox", "clickable": true },
              "breakpoints": {
                  "575": { 
                      "slidesPerView": {% if section.settings.layout == 'bicycle' %}2{% elsif section.settings.layout == 'home-electronic' %}2{% else %}{{ section.settings.slides_per_view_mobile }}{% endif %},
                      "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'home-electronic' %}12{% else %}12{% endif %},
                      "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                  },
                  "768": { 
                      "slidesPerView": {% if section.settings.layout == 'bicycle' %}2{% elsif section.settings.layout == 'home-electronic' %}3{% else %}3{% endif %},
                      "spaceBetween": {% if section.settings.layout == 'bicycle' %}12{% elsif section.settings.layout == 'home-electronic' %}24{% else %}24{% endif %},
                      "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                  },
                  "1200": { 
                      "slidesPerView": {% if section.settings.layout == 'bicycle' %}3{% elsif section.settings.layout == 'home-electronic' %}4{% else %}4{% endif %},
                      "spaceBetween": {% if section.settings.layout == 'bicycle' %}24{% elsif section.settings.layout == 'home-electronic' %}59{% else %}42{% endif %},
                      "slidesPerGroup": {% if section.settings.layout == 'bicycle' %}1{% else %}2{% endif %}
                  }
              }
          }{% endif %}'>
              <div class="swiper-wrapper">
                  {% for block in section.blocks %}
                      <div class="swiper-slide" {{ block.shopify_attributes }}>
                          {% if section.settings.layout == 'phonecase' %}
                              <div class="tf-icon-box-v2 justify-content-center {% if forloop.first %}justify-content-sm-start{% else %}justify-content-center{% endif %}">
                                  <i class="icon {{ block.settings.icon }}"></i>
                                  <div class="title">{{ block.settings.title }}</div>
                              </div>
                          {% else %}
                              <div class="tf-icon-box {% if section.settings.layout == 'home-electronic' or section.settings.layout == 'home-fashion-02' %}style-3 wow fadeInLeft{% elsif section.settings.layout == 'bicycle' %}style-lg wow fadeInLeft{% else %}style-2{% endif %}" {% if section.settings.layout != 'default' and forloop.index > 1 %}data-wow-delay="{{ forloop.index | minus: 1 | times: 0.1 }}s"{% endif %}>
                                  {% if section.settings.layout == 'bicycle' %}
                                      {% case block.settings.icon %}
                                          {% when 'icon-shipping' %}
                                              <svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                  <path d="M52.4934 21.674C52.4829 21.4218 52.4088 21.1763 52.278 20.9605C52.1472 20.7446 51.9639 20.5653 51.7452 20.4393L33.2482 9.75421C33.0207 9.62286 32.7627 9.55371 32.5 9.55371C32.2373 9.55371 31.9792 9.62286 31.7517 9.75421L13.2473 20.4393C13.02 20.5705 12.8312 20.7592 12.6999 20.9864C12.5686 21.2136 12.4993 21.4714 12.499 21.7338V42.266C12.4993 42.5285 12.5686 42.7862 12.6999 43.0134C12.8312 43.2406 13.02 43.4293 13.2473 43.5605L31.7517 54.2456C31.9792 54.377 32.2373 54.4461 32.5 54.4461C32.7627 54.4461 33.0207 54.377 33.2482 54.2456L51.7526 43.5605C51.9799 43.4293 52.1687 43.2406 52.3 43.0134C52.4314 42.7862 52.5006 42.5285 52.5009 42.266V21.7338C52.5009 21.7338 52.4934 21.6964 52.4934 21.674ZM32.5 12.7772L48.0114 21.7563L32.5 30.6905L16.9886 21.7114L32.5 12.7772ZM15.4921 24.3228L31.0034 33.2794V50.3622L15.4921 41.3831V24.3228ZM33.9965 50.3622V33.2794L49.5079 24.3003V41.4055L33.9965 50.3622Z" fill="#108066"/>
                                              </svg>
                                          {% when 'icon-gift' %}
                                              <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                  <path d="M52 20H44V16C44 13.7909 42.2091 12 40 12H36C33.7909 12 32 13.7909 32 16V20H12V28H52V20ZM36 16H40V20H36V16Z" fill="#108066"/>
                                                  <path d="M12 32V52C12 54.2091 13.7909 56 16 56H48C50.2091 56 52 54.2091 52 52V32H12Z" fill="#108066"/>
                                                  <path d="M24 8C24 5.79086 25.7909 4 28 4H36C38.2091 4 40 5.79086 40 8V20H24V8Z" fill="#108066"/>
                                              </svg>
                                          {% when 'icon-return' %}
                                              <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                  <path d="M34.5392 14.5393C26.0761 14.5393 19.0059 20.5928 17.4169 28.5939L14.098 24.4449L12 26.1238L17.3726 32.8395C17.6345 33.1659 18.024 33.3432 18.4216 33.3432C18.6244 33.3432 18.8298 33.2975 19.022 33.2022L27.0808 29.1727L25.8787 26.7699L19.9568 29.7302C21.0555 22.6599 27.1654 17.2256 34.5392 17.2256C42.6854 17.2256 49.3138 23.8539 49.3138 32.0001C49.3138 40.1463 42.6854 46.7746 34.5392 46.7746V49.4609C44.1668 49.4609 52 41.6277 52 32.0001C52 22.3725 44.1668 14.5393 34.5392 14.5393Z" fill="#108066"/>
                                              </svg>
                                          {% when 'icon-support' %}
                                              <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                  <path d="M49.8573 26.1742C49.3295 24.5398 49.5545 22.0864 48.1827 20.1921C46.8 18.2829 44.3952 17.7403 43.0373 16.7471C41.6938 15.7645 40.4438 13.6261 38.1837 12.8886C35.9873 12.1719 33.7414 13.1445 32 13.1445C30.2588 13.1445 28.013 12.1717 25.8163 12.8885C23.5566 13.6259 22.3056 15.7647 20.9629 16.7469C19.6065 17.7389 17.1999 18.283 15.8175 20.1919C14.4468 22.0846 14.6695 24.5436 14.1427 26.1741C13.6413 27.7259 12 29.5883 12 32.0002C12 34.4135 13.6394 36.2688 14.1427 37.8262C14.6705 39.4606 14.4455 41.9139 15.8173 43.8082C17.1999 45.7175 19.6046 46.2601 20.9627 47.2533C22.306 48.2358 23.5562 50.3743 25.8163 51.1117C28.0112 51.828 30.2606 50.8559 32 50.8559C33.737 50.8559 35.9916 51.827 38.1837 51.1118C40.4434 50.3745 41.6937 48.2361 43.0371 47.2535C44.3935 46.2615 46.8001 45.7174 48.1825 43.8085C49.5533 41.9157 49.3304 39.4569 49.8573 37.8263C50.3587 36.2744 52 34.412 52 32.0002C52 29.587 50.361 27.7323 49.8573 26.1742ZM46.8838 36.8653C46.2686 38.7696 46.4298 40.9008 45.6516 41.9753C44.863 43.0642 42.7913 43.5615 41.1926 44.7309C39.6114 45.8872 38.5032 47.7203 37.2143 48.1408C35.9949 48.5388 34.0077 47.7307 32 47.7307C29.9777 47.7307 28.011 48.5405 26.7858 48.1408C25.497 47.7203 24.3904 45.8885 22.8075 44.7308C21.2183 43.5685 19.1347 43.061 18.3484 41.9752C17.5727 40.9042 17.7278 38.7583 17.1163 36.8654C16.517 35.0108 15.125 33.4049 15.125 32.0002C15.125 30.594 16.5157 28.9937 17.1162 27.135C17.7314 25.2308 17.5702 23.0995 18.3484 22.025C19.1365 20.9369 21.2098 20.4379 22.8075 19.2695C24.3937 18.1094 25.4949 16.2807 26.7856 15.8596C28.004 15.4621 29.9977 16.2696 31.9999 16.2696C34.0259 16.2696 35.9877 15.4593 37.2142 15.8596C38.5028 16.28 39.6104 18.1125 41.1926 19.2696C42.7816 20.4318 44.8653 20.9394 45.6516 22.0251C46.4274 23.0963 46.2715 25.24 46.8837 27.1349V27.1349C47.483 28.9896 48.875 30.5954 48.875 32.0002C48.875 33.4064 47.4843 35.0067 46.8838 36.8653ZM39.1987 26.9849C39.8089 27.5952 39.8089 28.5845 39.1987 29.1946L31.3779 37.0154C30.7677 37.6257 29.7783 37.6256 29.1681 37.0154L24.8014 32.6487C24.1912 32.0385 24.1911 31.0492 24.8013 30.439C25.4116 29.8289 26.401 29.8288 27.011 30.439L30.273 33.7009L36.9888 26.985C37.5991 26.3748 38.5884 26.3748 39.1987 26.9849Z" fill="#108066"/>
                                              </svg>
                                          {% when 'icon-sun' %}
                                              <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                  <path d="M32 8C33.1046 8 34 7.10457 34 6C34 4.89543 33.1046 4 32 4C30.8954 4 30 4.89543 30 6C30 7.10457 30.8954 8 32 8Z" fill="#108066"/>
                                                  <path d="M32 60C33.1046 60 34 59.1046 34 58C34 56.8954 33.1046 56 32 56C30.8954 56 30 56.8954 30 58C30 59.1046 30.8954 60 32 60Z" fill="#108066"/>
                                                  <path d="M58 34C59.1046 34 60 33.1046 60 32C60 30.8954 59.1046 30 58 30C56.8954 30 56 30.8954 56 32C56 33.1046 56.8954 34 58 34Z" fill="#108066"/>
                                                  <path d="M8 34C9.10457 34 10 33.1046 10 32C10 30.8954 9.10457 30 8 30C6.89543 30 6 30.8954 6 32C6 33.1046 6.89543 34 8 34Z" fill="#108066"/>
                                                  <path d="M52.4853 11.5147C53.2759 12.3053 53.2759 13.5916 52.4853 14.3822L49.6569 17.2106C48.8663 18.0012 47.58 18.0012 46.7894 17.2106C45.9988 16.42 45.9988 15.1337 46.7894 14.3431L49.6178 11.5147C50.4084 10.7241 51.6947 10.7241 52.4853 11.5147Z" fill="#108066"/>
                                                  <path d="M17.2106 46.7894C18.0012 47.58 18.0012 48.8663 17.2106 49.6569L14.3822 52.4853C13.5916 53.2759 12.3053 53.2759 11.5147 52.4853C10.7241 51.6947 10.7241 50.4084 11.5147 49.6178L14.3431 46.7894C15.1337 45.9988 16.42 45.9988 17.2106 46.7894Z" fill="#108066"/>
                                                  <path d="M52.4853 49.6178C53.2759 50.4084 53.2759 51.6947 52.4853 52.4853C51.6947 53.2759 50.4084 53.2759 49.6178 52.4853L46.7894 49.6569C45.9988 48.8663 45.9988 47.58 46.7894 46.7894C47.58 45.9988 48.8663 45.9988 49.6569 46.7894L52.4853 49.6178Z" fill="#108066"/>
                                                  <path d="M17.2106 14.3431C18.0012 15.1337 18.0012 16.42 17.2106 17.2106L14.3822 20.039C13.5916 20.8296 12.3053 20.8296 11.5147 20.039C10.7241 19.2484 10.7241 17.9621 11.5147 17.1715L14.3431 14.3431C15.1337 13.5525 16.42 13.5525 17.2106 14.3431Z" fill="#108066"/>
                                                  <path d="M32 48C40.8366 48 48 40.8366 48 32C48 23.1634 40.8366 16 32 16C23.1634 16 16 23.1634 16 32C16 40.8366 23.1634 48 32 48Z" fill="#108066"/>
                                      {% endcase %}
                                  {% else %}
                                      <div class="box-icon">
                                          <i class="icon {{ block.settings.icon }}"></i>
                                      </div>
                                  {% endif %}
                                  <div class="content">
                                      <div class="title {% if section.settings.layout == 'home-electronic' or section.settings.layout == 'home-fashion-02' %}text-uppercase{% endif %}">{{ block.settings.title }}</div>
                                      {% unless section.settings.layout == 'home-electronic' or section.settings.layout == 'home-fashion-02' %}
                                          <p class="desc">{{ block.settings.description }}</p>
                                      {% endunless %}
                                  </div>
                              </div>
                          {% endif %}
                      </div>
                  {% endfor %}
              </div>
              {% if section.settings.show_pagination %}
                  {% if section.settings.layout == 'phonecase' %}
                      <div class="d-flex sw-dot-default sw-pagination-iconbox justify-content-center"></div>
                  {% else %}
                      <div class="d-flex d-xl-none sw-dot-default sw-pagination-iconbox justify-content-center"></div>
                  {% endif %}
              {% endif %}
          </div>
          {% if section.settings.layout == 'default' or section.settings.layout == 'home-fashion-02' %}
              </div>
          {% endif %}
          {% if section.settings.layout == 'home-electronic' %}
            </div>
        {% endif %}
      </div>
  </div> 