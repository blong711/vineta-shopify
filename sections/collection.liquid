{% comment %}
  Collection Section
  - Includes filter controls, sorting options, layout switching
  - Responsive product grid with list view option
  - Product cards with hover effects and quick actions
{% endcomment %}
<style>
  /* Infinite scroll loader styles */
  .tf-loading.animate-btn.animate-dark .spinner-circle {
    display: block;
  }

  .tf-loading.animate-btn.animate-dark.loading .spinner-circle {
    display: block;
  }

  /* Hide infinite scroll loader when no more pages */
  #infiniteScrollLoader.no-more-pages {
    display: none !important;
  }
</style>
{% if collection != blank and collection.products != blank %}
  {% paginate collection.products by section.settings.products_per_page %}
    <section
      class="flat-spacing-24"
      style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;"
    >
      {% if section.settings.width == 'boxed' %}
        <div class="container">
      {% elsif section.settings.width == 'full' %}
        <div class="container-full">
      {% endif %}

      <!-- Filter Drawer - Always present for mobile/tablet responsive behavior -->
      <div class="offcanvas offcanvas-start canvas-sidebar canvas-filter" id="filterShop">
        <div class="canvas-wrapper">
          <div class="canvas-header">
            <span class="title">{{ 'sections.collection.filter' | t }}</span>
            <button
              class="icon-close icon-close-popup"
              data-bs-dismiss="offcanvas"
              aria-label="{{ 'sections.collection.close' | t }}"
            ></button>
          </div>
          <div class="canvas-body">
            {% render 'filter-content',
              show_banner: section.settings.show_banner,
              banner_title: section.settings.banner_title,
              banner_button_text: section.settings.banner_button_text,
              banner_button_url: section.settings.banner_button_url,
              collections_title: section.settings.collections_title,
              categories_mode: section.settings.categories_mode,
              categories_link_list: section.settings.categories_link_list,
              categories_show_count: section.settings.categories_show_count,
              show_on_sale: section.settings.show_on_sale,
              on_sale_title: section.settings.on_sale_title,
              on_sale_source: section.settings.on_sale_source,
              on_sale_products: section.settings.on_sale_products,
              filter_banner: section.settings.filter_banner,
              form_id: 'collection-filters-form-drawer'
            %}
          </div>
        </div>
      </div>

      {%- case section.settings.filter_type -%}
        {%- when 'drawer' -%}
          <!-- Drawer filter type - no additional sidebar needed -->
        {%- when 'left' -%}
          <!-- Left Sidebar - visible on desktop, hidden on mobile/tablet -->
          <div class="row">
            <div class="col-lg-3 d-none d-lg-block">
              <div class="filter-sidebar filter-left canvas-filter">
                <div class="filter-content">
                  {% render 'filter-content',
                    show_banner: section.settings.show_banner,
                    banner_title: section.settings.banner_title,
                    banner_button_text: section.settings.banner_button_text,
                    banner_button_url: section.settings.banner_button_url,
                    collections_title: section.settings.collections_title,
                    categories_mode: section.settings.categories_mode,
                    categories_link_list: section.settings.categories_link_list,
                    categories_show_count: section.settings.categories_show_count,
                    show_on_sale: section.settings.show_on_sale,
                    on_sale_title: section.settings.on_sale_title,
                    on_sale_source: section.settings.on_sale_source,
                    on_sale_products: section.settings.on_sale_products,
                    filter_banner: section.settings.filter_banner,
                    form_id: 'collection-filters-form-sidebar'
                  %}
                </div>
              </div>
            </div>
            <div class="col-lg-9 col-12">
        {%- when 'right' -%}
          <!-- Right Sidebar - visible on desktop, hidden on mobile/tablet -->
          <div class="row">
            <div class="col-lg-9 col-12">
        {%- when 'horizontal' -%}
          <!-- Horizontal filter type - no additional sidebar needed -->
      {%- endcase -%}

      {%- if section.settings.filter_type == 'drawer'
        or section.settings.filter_type == 'left'
        or section.settings.filter_type == 'right'
      -%}
        {% if collection.products.size > 0 %}
          <div class="tf-shop-control">
            {%- if section.settings.filter_type == 'drawer' -%}
              <div class="tf-group-filter">
                <a href="#filterShop" data-bs-toggle="offcanvas" aria-controls="filterShop" class="tf-btn-filter">
                  <span class="icon icon-filter"></span>
                  <span class="text">{{ 'sections.collection.filter' | t }}</span>
                </a>
                <div class="tf-dropdown-sort" data-bs-toggle="dropdown">
                  <div class="btn-select">
                    <span class="text-sort-value">
                      {{- collection.sort_by | default: 'best-selling' | replace: '-', ' ' | capitalize -}}
                    </span>
                    <span class="icon icon-arr-down"></span>
                  </div>
                  <div class="dropdown-menu">
                    <div
                      class="select-item{% if collection.sort_by == 'best-selling' %} active{% endif %}"
                      data-sort-value="best-selling"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.best_selling' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'title-ascending' %} active{% endif %}"
                      data-sort-value="title-ascending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.az' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'title-descending' %} active{% endif %}"
                      data-sort-value="title-descending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.za' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'price-ascending' %} active{% endif %}"
                      data-sort-value="price-ascending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.price_ascending' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'price-descending' %} active{% endif %}"
                      data-sort-value="price-descending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.price_descending' | t }}</span>
                    </div>
                  </div>
                </div>
              </div>
            {%- elsif section.settings.filter_type == 'left' or section.settings.filter_type == 'right' -%}
              <div class="tf-group-filter">
                <a
                  href="#filterShop"
                  data-bs-toggle="offcanvas"
                  aria-controls="filterShop"
                  class="tf-btn-filter d-lg-none"
                >
                  <span class="icon icon-filter"></span>
                  <span class="text">{{ 'sections.collection.filter' | t }}</span>
                </a>
                <div class="tf-dropdown-sort" data-bs-toggle="dropdown">
                  <div class="btn-select">
                    <span class="text-sort-value">
                      {{- collection.sort_by | default: 'best-selling' | replace: '-', ' ' | capitalize -}}
                    </span>
                    <span class="icon icon-arr-down"></span>
                  </div>
                  <div class="dropdown-menu">
                    <div
                      class="select-item{% if collection.sort_by == 'best-selling' %} active{% endif %}"
                      data-sort-value="best-selling"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.best_selling' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'title-ascending' %} active{% endif %}"
                      data-sort-value="title-ascending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.az' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'title-descending' %} active{% endif %}"
                      data-sort-value="title-descending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.za' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'price-ascending' %} active{% endif %}"
                      data-sort-value="price-ascending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.price_ascending' | t }}</span>
                    </div>
                    <div
                      class="select-item{% if collection.sort_by == 'price-descending' %} active{% endif %}"
                      data-sort-value="price-descending"
                    >
                      <span class="text-value-item">{{ 'collections.sorting.price_descending' | t }}</span>
                    </div>
                  </div>
                </div>
              </div>
            {%- endif -%}
            {%- if section.settings.filter_type != 'horizontal' -%}
              <ul class="tf-control-layout">
                {% comment %}
                  <li class="tf-view-layout-switch sw-layout-list list-layout" data-value-layout="list">
                    <div class="item icon-list">
                      <span></span>
                      <span></span>
                    </div>
                  </li>
                {% endcomment %}
                <li class="tf-view-layout-switch sw-layout-2" data-value-layout="tf-col-2">
                  <div class="item icon-grid-2">
                    <span></span>
                    <span></span>
                  </div>
                </li>
                <li
                  class="tf-view-layout-switch sw-layout-3{% if section.settings.default_grid_columns == '3' %} active{% endif %}"
                  data-value-layout="tf-col-3"
                >
                  <div class="item icon-grid-3">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </li>
                <li
                  class="tf-view-layout-switch sw-layout-4{% if section.settings.default_grid_columns == '4' %} active{% endif %}"
                  data-value-layout="tf-col-4"
                >
                  <div class="item icon-grid-4">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </li>
              </ul>
            {%- endif -%}
          </div>
        {% endif %}
      {%- endif -%}

      {%- if section.settings.filter_type == 'horizontal' -%}
        {% if collection.products.size > 0 %}
          <div class="tf-shop-control mb1">
            <div class="tf-group-filter">
              <div class="tf-dropdown-sort" data-bs-toggle="dropdown">
                <div class="btn-select">
                  <span class="text-sort-value">
                    {{- collection.sort_by | default: 'best-selling' | replace: '-', ' ' | capitalize -}}
                  </span>
                  <span class="icon icon-arr-down"></span>
                </div>
                <div class="dropdown-menu">
                  <div
                    class="select-item{% if collection.sort_by == 'best-selling' %} active{% endif %}"
                    data-sort-value="best-selling"
                  >
                    <span class="text-value-item">{{ 'collections.sorting.best_selling' | t }}</span>
                  </div>
                  <div
                    class="select-item{% if collection.sort_by == 'title-ascending' %} active{% endif %}"
                    data-sort-value="title-ascending"
                  >
                    <span class="text-value-item">{{ 'collections.sorting.az' | t }}</span>
                  </div>
                  <div
                    class="select-item{% if collection.sort_by == 'title-descending' %} active{% endif %}"
                    data-sort-value="title-descending"
                  >
                    <span class="text-value-item">{{ 'collections.sorting.za' | t }}</span>
                  </div>
                  <div
                    class="select-item{% if collection.sort_by == 'price-ascending' %} active{% endif %}"
                    data-sort-value="price-ascending"
                  >
                    <span class="text-value-item">{{ 'collections.sorting.price_ascending' | t }}</span>
                  </div>
                  <div
                    class="select-item{% if collection.sort_by == 'price-descending' %} active{% endif %}"
                    data-sort-value="price-descending"
                  >
                    <span class="text-value-item">{{ 'collections.sorting.price_descending' | t }}</span>
                  </div>
                </div>
              </div>
            </div>
            <ul class="tf-control-layout">
              {% comment %}
                <li class="tf-view-layout-switch sw-layout-list list-layout" data-value-layout="list">
                  <div class="item icon-list">
                    <span></span>
                    <span></span>
                  </div>
                </li>
              {% endcomment %}
              <li class="tf-view-layout-switch sw-layout-2" data-value-layout="tf-col-2">
                <div class="item icon-grid-2">
                  <span></span>
                  <span></span>
                </div>
              </li>
              <li
                class="tf-view-layout-switch sw-layout-3{% if section.settings.default_grid_columns == '3' %} active{% endif %}"
                data-value-layout="tf-col-3"
              >
                <div class="item icon-grid-3">
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </li>
              <li
                class="tf-view-layout-switch sw-layout-4{% if section.settings.default_grid_columns == '4' %} active{% endif %}"
                data-value-layout="tf-col-4"
              >
                <div class="item icon-grid-4">
                  <span></span>
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </li>
            </ul>
          </div>
          <form id="collection-filters-form" method="GET" action="{{ collection.url }}" class="filter-form">
            <div class="tf-filter-dropdown">
              <span class="title-filter">{{ 'sections.collection.filter' | t }}:</span>
              <div class="meta-dropdown-filter">
                <!-- Availability Filter -->
                <!-- Note: Counts are updated dynamically via JavaScript to reflect current filtered products -->
                <div class="dropdown dropdown-filter">
                  <div
                    class="dropdown-toggle"
                    id="availability"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    data-bs-auto-close="outside"
                  >
                    <span class="text-value">{{ 'sections.collection.availability' | t }}</span>
                    <span class="icon icon-arr-down"></span>
                  </div>
                  <div class="dropdown-menu" aria-labelledby="availability">
                    <ul class="collapse-body filter-group-check current-scrollbar">
                      <li class="list-item">
                        <input
                          type="checkbox"
                          name="filter.v.availability"
                          value="1"
                          id="Filter-availability-1"
                          {% if current_tags contains 'filter.v.availability:1' %}
                            checked
                          {% endif %}
                          class="filter-checkbox tf-check"
                        >
                        <label for="Filter-availability-1" class="label">
                          <span>{{ 'sections.collection.in_stock' | t }}</span>
                          <span class="count">({{ collection.products | where: 'available', true | size }})</span>
                        </label>
                      </li>
                      <li class="list-item">
                        <input
                          type="checkbox"
                          name="filter.v.availability"
                          value="0"
                          id="Filter-availability-2"
                          {% if current_tags contains 'filter.v.availability:0' %}
                            checked
                          {% endif %}
                          class="filter-checkbox tf-check"
                        >
                        <label for="Filter-availability-2" class="label">
                          <span>{{ 'sections.collection.out_of_stock' | t }}</span>
                          <span class="count">({{ collection.products | where: 'available', false | size }})</span>
                        </label>
                      </li>
                    </ul>
                  </div>
                </div>

                <!-- Dynamic Shopify Filters -->
                {%- for filter in collection.filters -%}
                  {%- if filter.label != 'Availability' -%}
                    <div class="dropdown dropdown-filter">
                      <div
                        class="dropdown-toggle"
                        id="filter-{{ filter.label | handle }}"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        data-bs-auto-close="outside"
                      >
                        <span class="text-value">{{ filter.label }}</span>
                        <span class="icon icon-arr-down"></span>
                      </div>
                      <div class="dropdown-menu" aria-labelledby="filter-{{ filter.label | handle }}">
                        {%- case filter.type -%}
                          {%- when 'boolean', 'list' -%}
                            <ul class="filter-group-check">
                              {%- for filter_value in filter.values -%}
                                <li class="list-item">
                                  <input
                                    type="checkbox"
                                    name="{{ filter_value.param_name }}"
                                    value="{{ filter_value.value }}"
                                    id="Filter-{{ filter.label | escape }}-{{ forloop.index }}"
                                    {% if filter_value.active -%}
                                      checked
                                    {%- endif %}
                                    {% if filter_value.count == 0 and filter_value.active == false -%}
                                      disabled
                                    {%- endif %}
                                    class="filter-checkbox tf-check"
                                  >
                                  <label for="Filter-{{ filter.label | escape }}-{{ forloop.index }}" class="label">
                                    <span>{{ filter_value.label }}</span>
                                    <span class="count">({{ filter_value.count }})</span>
                                  </label>
                                </li>
                              {%- endfor -%}
                            </ul>
                          {%- when 'price_range' -%}
                            <div class="collapse-body widget-price filter-price">
                              <span class="reset-price">{{ 'sections.collection.reset' | t }}</span>
                              <div
                                class="price-val-range"
                                id="price-value-range-horizontal"
                                data-min="{{ filter.min_value.value | default: 0 | money_without_currency | round }}"
                                data-max="{{ filter.max_value.value | default: filter.range_max | money_without_currency | round }}"
                                data-range-min="{{ filter.range_min | money_without_currency | round }}"
                                data-range-max="{{ filter.range_max | money_without_currency | round }}"
                              ></div>
                              <div class="box-value-price">
                                <span class="text-sm">{{ 'sections.collection.price' | t }}</span>
                                <div class="price-box">
                                  <div
                                    class="price-val"
                                    id="price-min-value-horizontal"
                                    data-currency="{{ shop.currency.symbol }}"
                                  >
                                    {{ filter.min_value.value | default: 0 | money_without_currency | round }}
                                  </div>
                                  <span>-</span>
                                  <div
                                    class="price-val"
                                    id="price-max-value-horizontal"
                                    data-currency="{{ shop.currency.symbol }}"
                                  >
                                    {{
                                      filter.max_value.value
                                      | default: filter.range_max
                                      | money_without_currency
                                      | round
                                    }}
                                  </div>
                                </div>
                              </div>
                              {% comment %} Don't include price inputs by default - only add them via JavaScript when user changes the slider {% endcomment %}
                              <input
                                type="hidden"
                                name="filter.v.price.gte"
                                id="price-min-input-horizontal"
                                value=""
                                style="display: none;"
                              >
                              <input
                                type="hidden"
                                name="filter.v.price.lte"
                                id="price-max-input-horizontal"
                                value=""
                                style="display: none;"
                              >
                            </div>
                        {%- endcase -%}
                      </div>
                    </div>
                  {%- endif -%}
                {%- endfor -%}

                <!-- Color Filter -->
                {%- assign unique_colors = '' | split: '' -%}
                {%- for product in collection.products -%}
                  {%- for option in product.options_with_values -%}
                    {%- if option.name == 'Color' or option.name == 'Colour' -%}
                      {%- for value in option.values -%}
                        {%- unless unique_colors contains value -%}
                          {%- assign unique_colors = unique_colors | concat: value | uniq -%}
                        {%- endunless -%}
                      {%- endfor -%}
                    {%- endif -%}
                  {%- endfor -%}
                {%- endfor -%}

                {%- if unique_colors.size > 0 -%}
                  <div class="dropdown dropdown-filter">
                    <div
                      class="dropdown-toggle"
                      id="color-filter"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      data-bs-auto-close="outside"
                    >
                      <span class="text-value">{{ 'sections.collection.color' | t }}</span>
                      <span class="icon icon-arr-down"></span>
                    </div>
                    <div class="dropdown-menu" aria-labelledby="color-filter">
                      <div class="filter-color-box">
                        {%- for color in unique_colors -%}
                          {%- assign color_count = 0 -%}
                          {%- for product in collection.products -%}
                            {%- for option in product.options_with_values -%}
                              {%- if option.name == 'Color' or option.name == 'Colour' -%}
                                {%- if option.values contains color -%}
                                  {%- assign color_count = color_count | plus: 1 -%}
                                  {%- break -%}
                                {%- endif -%}
                              {%- endif -%}
                            {%- endfor -%}
                          {%- endfor -%}
                          <div
                            class="color-item color-check{% if current_tags contains color or request.search contains color %} active{% endif %}"
                            data-color="{{ color | escape }}"
                          >
                            <span class="color bg-{{ color | handleize }}"></span>
                            <span class="color-text">{{ color }}</span>
                            <input
                              type="checkbox"
                              name="filter.v.option.color"
                              value="{{ color | escape }}"
                              id="Filter-color-{{ forloop.index }}"
                              {% if current_tags contains color or request.search contains color %}
                                checked
                              {% endif %}
                              class="filter-checkbox tf-check"
                              style="display: none;"
                            >
                            <span class="count">({{ color_count }})</span>
                          </div>
                        {%- endfor -%}
                      </div>
                    </div>
                  </div>
                {%- endif -%}

                <!-- Size Filter -->
                {%- assign unique_sizes = '' | split: '' -%}
                {%- for product in collection.products -%}
                  {%- for option in product.options_with_values -%}
                    {%- if option.name == 'Size' -%}
                      {%- for value in option.values -%}
                        {%- unless unique_sizes contains value -%}
                          {%- assign unique_sizes = unique_sizes | concat: value | uniq -%}
                        {%- endunless -%}
                      {%- endfor -%}
                    {%- endif -%}
                  {%- endfor -%}
                {%- endfor -%}

                {%- if unique_sizes.size > 0 -%}
                  <div class="dropdown dropdown-filter">
                    <div
                      class="dropdown-toggle"
                      id="size-filter"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      data-bs-auto-close="outside"
                    >
                      <span class="text-value">{{ 'sections.collection.size' | t }}</span>
                      <span class="icon icon-arr-down"></span>
                    </div>
                    <div class="dropdown-menu" aria-labelledby="size-filter">
                      <div class="filter-size-box">
                        {%- for size in unique_sizes -%}
                          {%- assign size_count = 0 -%}
                          {%- for product in collection.products -%}
                            {%- for option in product.options_with_values -%}
                              {%- if option.name == 'Size' -%}
                                {%- if option.values contains size -%}
                                  {%- assign size_count = size_count | plus: 1 -%}
                                  {%- break -%}
                                {%- endif -%}
                              {%- endif -%}
                            {%- endfor -%}
                          {%- endfor -%}
                          <div
                            class="size-item size-check{% if current_tags contains size or request.search contains size %} active{% endif %}"
                            data-size="{{ size | escape }}"
                          >
                            <span class="size">{{ size }}</span>
                            <input
                              type="checkbox"
                              name="filter.v.option.size"
                              value="{{ size | escape }}"
                              id="Filter-size-{{ forloop.index }}"
                              {% if current_tags contains size or request.search contains size %}
                                checked
                              {% endif %}
                              class="filter-checkbox tf-check"
                              style="display: none;"
                            >
                            <span class="count">({{ size_count }})</span>
                          </div>
                        {%- endfor -%}
                      </div>
                    </div>
                  </div>
                {%- endif -%}
              </div>
            </div>
          </form>
        {% endif %}
      {%- endif -%}

      <div class="wrapper-control-shop" data-pagination-type="{{ section.settings.pagination_type }}">
        <div
          class="meta-filter-shop"
          style="display: {% if current_tags.size > 0 or request.search != blank %}block{% else %}none{% endif %};"
        >
          <div
            id="product-count-grid"
            class="count-text"
            style="display: {% if current_tags.size > 0 or request.search contains 'filter.v' %}block{% else %}none{% endif %};"
          >
            <span class="count">{{ collection.products_count }}</span>
            {% if collection.products_count == 1 %}
              {{ 'sections.collection.product_found' | t }}
            {% else %}
              {{ 'sections.collection.products_found' | t }}
            {% endif %}
          </div>
          <div
            id="product-count-list"
            class="count-text"
            style="display: {% if current_tags.size > 0 or request.search contains 'filter.v' %}block{% else %}none{% endif %};"
          >
            <span class="count">{{ collection.products_count }}</span> {{ 'sections.collection.products_found' | t }}
          </div>
          <div id="applied-filters">
            {% comment %} Show current tags as applied filters {% endcomment %}
            {% if current_tags.size > 0 %}
              {% for tag in current_tags %}
                <span class="filter-tag">
                  <i class="icon icon-close" data-filter-tag="{{ tag | escape }}"></i>
                  {{ tag }}
                </span>
              {% endfor %}
            {% endif %}

            {% comment %} Show URL parameters as applied filters {% endcomment %}
            {% assign url_params = request.search | remove: '?' | split: '&' %}
            {% for param in url_params %}
              {% assign key_value = param | split: '=' %}
              {% assign param_key = key_value[0] %}
              {% assign param_value = key_value[1] %}

              {% if param_key == 'filter.v.availability' %}
                {% assign availability_label = 'Out of stock' %}
                {% if param_value == '1' %}
                  {% assign availability_label = 'In stock' %}
                {% endif %}
                <span class="filter-tag">
                  <i
                    class="icon icon-close"
                    data-filter-type="availability"
                    data-param="filter.v.availability"
                    data-value="{{ param_value }}"
                  ></i>
                  Availability: {{ availability_label }}
                </span>
              {% elsif param_key == 'filter.v.price.gte' %}
                {% assign min_price = param_value %}
                {% assign max_price = '' %}
                {% for param2 in url_params %}
                  {% assign key_value2 = param2 | split: '=' %}
                  {% if key_value2[0] == 'filter.v.price.lte' %}
                    {% assign max_price = key_value2[1] %}
                    {% break %}
                  {% endif %}
                {% endfor %}
                {% if max_price != '' %}
                  <span class="filter-tag">
                    <i
                      class="icon icon-close"
                      data-filter-type="price"
                      data-param="price"
                      data-value="{{ min_price }}-{{ max_price }}"
                    ></i>
                    Price: {{ shop.currency.symbol -}}
                    {{- min_price }} - {{ shop.currency.symbol -}}
                    {{- max_price }}
                  </span>
                {% endif %}
              {% elsif param_key == 'filter.v.option.color' %}
                <span class="filter-tag">
                  <i
                    class="icon icon-close"
                    data-filter-type="filter.v.option.color"
                    data-param="filter.v.option.color"
                    data-value="{{ param_value }}"
                  ></i>
                  Color: {{ param_value }}
                </span>
              {% elsif param_key == 'filter.v.option.size' %}
                <span class="filter-tag">
                  <i
                    class="icon icon-close"
                    data-filter-type="filter.v.option.size"
                    data-param="filter.v.option.size"
                    data-value="{{ param_value }}"
                  ></i>
                  Size: {{ param_value }}
                </span>
              {% elsif param_key contains 'filter.v.' and param_key != 'filter.v.price.lte' %}
                {% comment %} Handle other filter parameters by finding the checkbox label {% endcomment %}
                {% assign checkbox_found = false %}
                {% assign param_key_clean = param_key | remove: 'filter.v.' %}
                {% assign param_key_capitalized = param_key_clean | capitalize %}
                {% for product in collection.products %}
                  {% for option in product.options_with_values %}
                    {% if option.name == param_key_capitalized %}
                      {% for value in option.values %}
                        {% if value == param_value %}
                          <span class="filter-tag">
                            <i
                              class="icon icon-close"
                              data-filter-type="{{ param_key }}"
                              data-param="{{ param_key }}"
                              data-value="{{ param_value }}"
                            ></i>
                            {{ option.name }}: {{ value }}
                          </span>
                          {% assign checkbox_found = true %}
                          {% break %}
                        {% endif %}
                      {% endfor %}
                      {% if checkbox_found %}{% break %}{% endif %}
                    {% endif %}
                  {% endfor %}
                  {% if checkbox_found %}{% break %}{% endif %}
                {% endfor %}
              {% endif %}
            {% endfor %}
          </div>
          <button id="remove-all" class="remove-all-filters">
            <i class="icon icon-close"></i> {{ 'sections.collection.clear_all_filter' | t }}
          </button>
        </div>

        <!-- List View Layout -->
        <div class="tf-list-layout wrapper-shop" id="listLayout" style="display: none;">
          {% if collection.products.size > 0 %}
            {% assign list_product_counter = 0 %}
            {% for product in collection.products %}
              {% assign list_product_counter = list_product_counter | plus: 1 %}
              <div
                class="loadItem card-product style-list"
                data-availability="{{ product.available | default: 'In stock' }}"
                data-brand="{{ product.vendor }}"
                data-product-number="{{ list_product_counter }}"
              >
                {% render 'card-product', product: product, show_color_swatches: true, size_swatches: true %}
              </div>
            {% endfor %}
          {% else %}
            <div class="no-products-found">
              <div class="no-products-content">
                <div class="no-products-icon">
                  <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9.5 8.96997C9.5 8.96997 10.5 8.96997 11.5 9.96997C12.5 10.97 12.5 12.97 12.5 12.97" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14.5 8.96997C14.5 8.96997 13.5 8.96997 12.5 9.96997C11.5 10.97 11.5 12.97 11.5 12.97" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9.5 15.03C9.5 15.03 10.5 15.03 11.5 16.03C12.5 17.03 12.5 19.03 12.5 19.03" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14.5 15.03C14.5 15.03 13.5 15.03 12.5 16.03C11.5 17.03 11.5 19.03 11.5 19.03" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <h3 class="no-products-title">{{ 'sections.collection.no_products_found' | t }}</h3>
                <p class="no-products-description">{{ 'sections.collection.no_products_description' | t }}</p>
                <div class="no-products-actions">
                  <a href="/collections" class="tf-btn btn-out-line-dark2">
                    {{- 'sections.collection.browse_all_collections' | t -}}
                  </a>
                </div>
              </div>
            </div>
          {% endif %}

          {% if section.settings.pagination_type == 'load_more' %}
            {% if paginate.next %}
              <div class="wd-load">
                <button id="loadMoreListBtn" class="tf-btn btn-out-line-dark2 tf-loading loadmore">
                  <span class="text">{{ 'sections.collection.load_more' | t }}</span>
                  <div class="spinner-circle">
                    <span class="spinner-circle1 spinner-child"></span>
                    <span class="spinner-circle2 spinner-child"></span>
                    <span class="spinner-circle3 spinner-child"></span>
                    <span class="spinner-circle4 spinner-child"></span>
                    <span class="spinner-circle5 spinner-child"></span>
                    <span class="spinner-circle6 spinner-child"></span>
                    <span class="spinner-circle7 spinner-child"></span>
                    <span class="spinner-circle8 spinner-child"></span>
                    <span class="spinner-circle9 spinner-child"></span>
                  </div>
                </button>
              </div>
            {% endif %}
          {% else %}
            {% if paginate.pages > 1 %}
              <ul class="wg-pagination">
                {% if paginate.previous %}
                  <li>
                    <a href="{{ paginate.previous.url }}" class="pagination-item"><i class="icon-arr-left"></i></a>
                  </li>
                {% endif %}

                {% for part in paginate.parts %}
                  {% if part.is_link %}
                    <li>
                      <a href="{{ part.url }}" class="pagination-item">{{ part.title }}</a>
                    </li>
                  {% else %}
                    <li class="{% if part.title == paginate.current_page %}active{% endif %}">
                      <div class="pagination-item">{{ part.title }}</div>
                    </li>
                  {% endif %}
                {% endfor %}

                {% if paginate.next %}
                  <li>
                    <a href="{{ paginate.next.url }}" class="pagination-item"><i class="icon-arr-right2"></i></a>
                  </li>
                {% endif %}
              </ul>
            {% endif %}
          {% endif %}
        </div>

        <!-- Grid View Layout -->
        <div
          class="wrapper-shop{% if collection.products.size > 0 %} tf-grid-layout tf-col-{{ section.settings.default_grid_columns }}{% endif %}"
          id="gridLayout"
          data-default-columns="{{ section.settings.default_grid_columns }}"
        >
          {% if collection.products.size > 0 %}
            {% assign product_counter = 0 %}
            {% for product in collection.products %}
              {% assign product_counter = product_counter | plus: 1 %}
              <div
                class="loadItem card-product grid style-1{% if product.options contains 'Size' %} card-product-size{% endif %}"
                data-availability="{{ product.available | default: 'In stock' }}"
                data-brand="{{ product.vendor }}"
                data-product-number="{{ product_counter }}"
              >
                {% render 'card-product',
                  product: product,
                  show_color_swatches: true,
                  show_size_swatches: true,
                  size_swatches: true
                %}
              </div>
            {% endfor %}
          {% else %}
            <div class="no-products-found">
              <div class="no-products-content">
                <div class="no-products-icon">
                  <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9.5 8.96997C9.5 8.96997 10.5 8.96997 11.5 9.96997C12.5 10.97 12.5 12.97 12.5 12.97" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14.5 8.96997C14.5 8.96997 13.5 8.96997 12.5 9.96997C11.5 10.97 11.5 12.97 11.5 12.97" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9.5 15.03C9.5 15.03 10.5 15.03 11.5 16.03C12.5 17.03 12.5 19.03 12.5 19.03" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14.5 15.03C14.5 15.03 13.5 15.03 12.5 16.03C11.5 17.03 11.5 19.03 11.5 19.03" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <h3 class="no-products-title">{{ 'sections.collection.no_products_found' | t }}</h3>
                <p class="no-products-description">{{ 'sections.collection.no_products_description' | t }}</p>
                <div class="no-products-actions">
                  <a href="/collections" class="tf-btn btn-out-line-dark2">
                    {{- 'sections.collection.browse_all_collections' | t -}}
                  </a>
                </div>
              </div>
            </div>
          {% endif %}

          {% if section.settings.pagination_type == 'load_more' %}
            {% if paginate.next %}
              <div class="wd-load d-flex justify-content-center">
                <button id="loadMoreGridBtn" class="tf-btn btn-out-line-dark2 tf-loading loadmore">
                  <span class="text">{{ 'sections.collection.load_more' | t }}</span>
                  <div class="spinner-circle">
                    <span class="spinner-circle1 spinner-child"></span>
                    <span class="spinner-circle2 spinner-child"></span>
                    <span class="spinner-circle3 spinner-child"></span>
                    <span class="spinner-circle4 spinner-child"></span>
                    <span class="spinner-circle5 spinner-child"></span>
                    <span class="spinner-circle6 spinner-child"></span>
                    <span class="spinner-circle7 spinner-child"></span>
                    <span class="spinner-circle8 spinner-child"></span>
                    <span class="spinner-circle9 spinner-child"></span>
                  </div>
                </button>
              </div>
            {% endif %}
          {% elsif section.settings.pagination_type == 'pagination' %}
            {% if paginate.pages > 1 %}
              <ul class="wg-pagination">
                {% if paginate.previous %}
                  <li>
                    <a href="{{ paginate.previous.url }}" class="pagination-item"><i class="icon-arr-left"></i></a>
                  </li>
                {% endif %}

                {% for part in paginate.parts %}
                  {% if part.is_link %}
                    <li>
                      <a href="{{ part.url }}" class="pagination-item">{{ part.title }}</a>
                    </li>
                  {% else %}
                    <li class="{% if part.title == paginate.current_page %}active{% endif %}">
                      <div class="pagination-item">{{ part.title }}</div>
                    </li>
                  {% endif %}
                {% endfor %}

                {% if paginate.next %}
                  <li>
                    <a href="{{ paginate.next.url }}" class="pagination-item"><i class="icon-arr-right2"></i></a>
                  </li>
                {% endif %}
              </ul>
            {% endif %}
          {% else %}
            {% if paginate.next %}
              <div class="wd-load d-flex justify-content-center" id="infiniteScrollLoader" style="display: block;">
                <button class="tf-btn btn-dark2 tf-loading animate-btn animate-dark">
                  <div class="spinner-circle">
                    <span class="spinner-circle1 spinner-child"></span>
                    <span class="spinner-circle2 spinner-child"></span>
                    <span class="spinner-circle3 spinner-child"></span>
                    <span class="spinner-circle4 spinner-child"></span>
                    <span class="spinner-circle5 spinner-child"></span>
                    <span class="spinner-circle6 spinner-child"></span>
                    <span class="spinner-circle7 spinner-child"></span>
                    <span class="spinner-circle8 spinner-child"></span>
                    <span class="spinner-circle9 spinner-child"></span>
                  </div>
                </button>
              </div>
            {% endif %}
          {% endif %}
        </div>
      </div>

      {%- if section.settings.filter_type == 'left' or section.settings.filter_type == 'right' -%}
        </div>
        {%- if section.settings.filter_type == 'right' -%}
          <div class="col-lg-3">
            <div class="filter-sidebar filter-right">
              <div class="filter-content">
                {% render 'filter-content',
                  show_banner: section.settings.show_banner,
                  banner_title: section.settings.banner_title,
                  banner_button_text: section.settings.banner_button_text,
                  banner_button_url: section.settings.banner_button_url,
                  collections_title: section.settings.collections_title,
                  categories_mode: section.settings.categories_mode,
                  categories_link_list: section.settings.categories_link_list,
                  categories_show_count: section.settings.categories_show_count,
                  show_on_sale: section.settings.show_on_sale,
                  on_sale_title: section.settings.on_sale_title,
                  on_sale_source: section.settings.on_sale_source,
                  on_sale_products: section.settings.on_sale_products,
                  filter_banner: section.settings.filter_banner,
                  form_id: 'collection-filters-form-sidebar'
                %}
              </div>
            </div>
          </div>
        {%- endif -%}
        </div>
      {%- endif -%}
      {% if section.settings.width == 'boxed' %}
        </div>
      {% elsif section.settings.width == 'full' %}
        </div>
      {% endif %}
    </section>
    {% if section.settings.show_description %}
      <div
        id="description"
        style="padding-top: {{ section.settings.description_padding_top }}px; padding-bottom: {{ section.settings.description_padding_bottom }}px;"
      >
        <div class="container">
          <p class="text text-md text-center">
            {{ collection.description | strip_html }}
          </p>
          {% if section.settings.related_collection_1 or section.settings.related_collection_2 %}
            <p class="mt_12 text-md text-center">
              {{ section.settings.related_collections_text }}
              {% if section.settings.related_collection_1 %}
                <a
                  href="{{ collections[section.settings.related_collection_1].url }}"
                  class="text-primary text-decoration-underline fw-medium"
                >
                  {{- collections[section.settings.related_collection_1].title | upcase -}}
                </a>
              {% endif %}
              {% if section.settings.related_collection_1 and section.settings.related_collection_2 %} and {% endif %}
              {% if section.settings.related_collection_2 %}
                <a
                  href="{{ collections[section.settings.related_collection_2].url }}"
                  class="text-primary text-decoration-underline fw-medium"
                >
                  {{- collections[section.settings.related_collection_2].title | upcase -}}
                </a>
              {% endif -%}
              .
            </p>
          {% endif %}
        </div>
      </div>
    {% endif %}
  {% endpaginate %}
{% endif %}
{% if section.settings.show_icon_box %}
  <div class="flat-spacing-5 line-top flat-wrap-iconbox">
    <div class="container">
      <div
        dir="ltr"
        class="swiper tf-swiper wow fadeInUp"
        data-swiper='
          {
              "slidesPerView": 1,
              "spaceBetween": 12,
              "speed": 800,
              "observer": true,
              "observeParents": true,
              "pagination": { "el": ".sw-pagination-iconbox", "clickable": true },
              "breakpoints": {
                  "575": { "slidesPerView": 2, "spaceBetween": 24},
                  "768": { "slidesPerView": 3, "spaceBetween": 24},
                  "1200": { "slidesPerView": 3, "spaceBetween": 100},
                  "1440": { "slidesPerView": 3, "spaceBetween": 205}
              }
          }
        '
      >
        <div
          class="swiper-wrapper"
          id="swiper-wrapper-7d6807784d704712"
          aria-live="polite"
          style="transition-duration: 0ms; transition-delay: 0ms; transform: translate3d(0px, 0px, 0px);"
        >
          <div
            class="swiper-slide swiper-slide-active"
            role="group"
            aria-label="1 / 3"
            style="width: 391.667px; margin-right: 100px;"
          >
            <div class="tf-icon-box style-2">
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M38.9421 14.922L24.328 6.48452C24.2283 6.42685 24.1151 6.39648 23.9999 6.39648C23.8847 6.39648 23.7715 6.42685 23.6717 6.48452L9.05762 14.922C8.95781 14.9795 8.87492 15.0623 8.81731 15.1621C8.75971 15.2618 8.72941 15.375 8.72949 15.4901V32.3651C8.72946 32.4804 8.75977 32.5936 8.81737 32.6934C8.87497 32.7932 8.95783 32.876 9.05762 32.9336L23.6717 41.3711C23.7715 41.4286 23.8847 41.4589 23.9999 41.4589C24.115 41.4589 24.2282 41.4286 24.328 41.3711L38.9421 32.9336C39.0419 32.876 39.1248 32.7932 39.1824 32.6934C39.24 32.5936 39.2703 32.4804 39.2702 32.3651V15.4901C39.2703 15.375 39.24 15.2618 39.1824 15.1621C39.1248 15.0623 39.0419 14.9795 38.9421 14.922ZM23.9999 7.81052L37.3015 15.4901L23.9999 23.1698L10.6982 15.4901L23.9999 7.81052ZM10.042 16.6268L23.3436 24.3064V39.666L10.042 31.9875V16.6268ZM37.9577 31.9875L24.6561 39.666V24.3064L37.9577 16.6268V31.9875Z" fill="#ABABAB"></path>
              </svg>
              <div class="content">
                <div class="title">{{ section.settings.icon_box_title_1 | default: 'Free Shipping' }}</div>
                <p class="desc text-grey-2">
                  {{ section.settings.icon_box_desc_1 | default: 'Enjoy free shipping on all orders over $150' }}
                </p>
              </div>
            </div>
          </div>
          <div
            class="swiper-slide swiper-slide-next"
            role="group"
            aria-label="2 / 3"
            style="width: 391.667px; margin-right: 100px;"
          >
            <div class="tf-icon-box style-2">
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.3943 15.1144C24.3216 15.0724 24.239 15.0503 24.155 15.0503C24.071 15.0503 23.9885 15.0724 23.9158 15.1144L16.6187 19.3274C16.5459 19.3694 16.4855 19.4298 16.4435 19.5025C16.4015 19.5753 16.3794 19.6578 16.3794 19.7418V28.1677C16.3794 28.2517 16.4015 28.3342 16.4435 28.407C16.4855 28.4797 16.5459 28.5401 16.6187 28.5821L23.9158 32.7952C23.9885 32.8372 24.071 32.8593 24.155 32.8593C24.239 32.8593 24.3216 32.8372 24.3943 32.7952L31.6915 28.5821C31.7642 28.5401 31.8246 28.4797 31.8666 28.407C31.9086 28.3342 31.9307 28.2517 31.9307 28.1677V19.7418C31.9307 19.6578 31.9086 19.5753 31.8666 19.5025C31.8246 19.4298 31.7642 19.3694 31.6915 19.3274L24.3943 15.1144ZM24.155 16.0813L30.4951 19.7418L24.155 23.4022L17.815 19.7418L24.155 16.0813ZM17.3365 20.5706L23.6765 24.231V31.5523L17.3365 27.8918V20.5706ZM24.6336 31.5519V24.2306L30.9737 20.5702V27.8915L24.6336 31.5519ZM8.18376 25.8952C8.19119 25.9576 8.18624 26.0209 8.1692 26.0815C8.15215 26.142 8.12334 26.1986 8.08442 26.2479C8.04549 26.2973 7.99722 26.3386 7.94235 26.3693C7.88748 26.4 7.8271 26.4196 7.76465 26.427C7.74577 26.4292 7.72678 26.4304 7.70777 26.4304C7.59071 26.4302 7.47776 26.3872 7.39031 26.3093C7.30286 26.2315 7.24697 26.1243 7.23322 26.0081C7.15459 25.3417 7.11519 24.6712 7.11523 24.0002C7.11592 21.0265 7.90177 18.1056 9.39334 15.533C10.8849 12.9604 13.0293 10.8272 15.6097 9.34915C18.1901 7.87109 21.115 7.10055 24.0887 7.11545C27.0624 7.13034 29.9795 7.93015 32.5449 9.43399C34.624 10.6583 36.4184 12.3116 37.8086 14.2836L37.7701 8.77077C37.7697 8.70793 37.7816 8.64561 37.8052 8.58738C37.8289 8.52916 37.8637 8.47615 37.9078 8.4314C37.9969 8.34102 38.1183 8.28974 38.2452 8.28883C38.3721 8.28793 38.4942 8.33747 38.5846 8.42657C38.6749 8.51567 38.7262 8.63702 38.7271 8.76393L38.7772 15.9456C38.7777 16.0087 38.7656 16.0713 38.7418 16.1297C38.7179 16.1882 38.6828 16.2413 38.6383 16.2861C38.5938 16.3309 38.5409 16.3664 38.4826 16.3907C38.4244 16.4149 38.3619 16.4274 38.2987 16.4274C38.2942 16.4274 38.2895 16.4274 38.2851 16.4274L31.6136 16.235C31.5505 16.2336 31.4883 16.2197 31.4306 16.1942C31.3729 16.1687 31.3208 16.132 31.2774 16.0863C31.2339 16.0405 31.1999 15.9866 31.1773 15.9277C31.1548 15.8688 31.1441 15.806 31.1459 15.7429C31.1477 15.6799 31.162 15.6178 31.1879 15.5602C31.2137 15.5027 31.2508 15.4508 31.2968 15.4077C31.3428 15.3645 31.3969 15.3308 31.4559 15.3086C31.515 15.2865 31.5779 15.2762 31.6409 15.2784L37.4378 15.4456C35.9942 13.19 34.0074 11.3329 31.6595 10.0447C29.3117 8.75649 26.678 8.07835 24 8.07247C15.2174 8.07247 8.07227 15.2176 8.07227 24.0002C8.0723 24.6335 8.10953 25.2663 8.18376 25.8952ZM40.8848 24.0002C40.8838 26.9002 40.1361 29.751 38.7138 32.2783C37.2915 34.8055 35.2425 36.924 32.7641 38.4297C30.2857 39.9355 27.4613 40.7777 24.563 40.8754C21.6647 40.973 18.79 40.3228 16.2158 38.9874C14.2573 37.9639 12.5166 36.569 11.0908 34.8806L10.8796 39.7981C10.8744 39.9212 10.8217 40.0376 10.7327 40.123C10.6437 40.2083 10.5252 40.256 10.402 40.2561C10.3951 40.2561 10.3883 40.2561 10.381 40.2556C10.2542 40.2501 10.1348 40.1945 10.049 40.101C9.9632 40.0075 9.91806 39.8838 9.92351 39.757L10.1901 33.5439C10.1951 33.4201 10.248 33.3031 10.3376 33.2177C10.4273 33.1322 10.5466 33.0849 10.6705 33.0859L17.54 33.1193C17.6029 33.1195 17.6651 33.132 17.7231 33.1562C17.7811 33.1804 17.8337 33.2158 17.8781 33.2603C17.9224 33.3048 17.9575 33.3577 17.9814 33.4158C18.0053 33.4739 18.0176 33.5362 18.0174 33.599C18.0173 33.6618 18.0048 33.724 17.9806 33.782C17.9564 33.84 17.921 33.8927 17.8765 33.937C17.8319 33.9814 17.7791 34.0165 17.721 34.0404C17.6629 34.0643 17.6006 34.0765 17.5378 34.0764H17.5355L11.6419 34.0479C13.1384 35.8813 15.0231 37.3598 17.1602 38.3766C19.2973 39.3934 21.6334 39.9233 24 39.9279C32.7826 39.9279 39.9277 32.7828 39.9277 24.0002C39.9277 23.8733 39.9781 23.7516 40.0679 23.6618C40.1576 23.5721 40.2793 23.5217 40.4062 23.5217C40.5332 23.5217 40.6549 23.5721 40.7446 23.6618C40.8344 23.7516 40.8848 23.8733 40.8848 24.0002Z" fill="#ABABAB"></path>
              </svg>
              <div class="content">
                <div class="title">{{ section.settings.icon_box_title_2 | default: 'Easy Returns' }}</div>
                <p class="desc text-grey-2">
                  {{
                    section.settings.icon_box_desc_2
                    | default: 'Hassle-free returns for a worry-free shopping experience.'
                  }}
                </p>
              </div>
            </div>
          </div>
          <div class="swiper-slide" role="group" aria-label="3 / 3" style="width: 391.667px; margin-right: 100px;">
            <div class="tf-icon-box style-2">
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.2486 37.718C18.2484 38.0955 18.5544 38.4017 18.932 38.4017C19.0615 38.4018 19.1884 38.365 19.2978 38.2957L29.2659 31.9856H38.0487C39.9538 31.9836 41.4977 30.4398 41.4999 28.5346V13.0492C41.4977 11.1441 39.9538 9.60027 38.0487 9.59814H9.95096C8.04595 9.60034 6.50213 11.1442 6.5 13.0492V28.5345C6.5022 30.4395 8.04595 31.9833 9.95096 31.9855H18.2498L18.2486 37.718ZM9.95096 30.6184C8.80064 30.6171 7.86847 29.6849 7.86719 28.5346V13.0492C7.86854 11.8989 8.80064 10.9667 9.95096 10.9654H38.0487C39.1991 10.9667 40.1313 11.8988 40.1327 13.0492V28.5345C40.1314 29.6848 39.1993 30.617 38.049 30.6183H29.0678C28.9384 30.6183 28.8115 30.6551 28.7021 30.7243L19.6162 36.476L19.6176 31.3021C19.6176 30.9247 19.3115 30.6186 18.934 30.6186L9.95096 30.6184Z" fill="#ABABAB"></path>
              </svg>
              <div class="content">
                <div class="title">{{ section.settings.icon_box_title_3 | default: '24/7 Support' }}</div>
                <p class="desc text-grey-2">
                  {{
                    section.settings.icon_box_desc_3
                    | default: 'We are here for you anytime with 24/7 customer support.'
                  }}
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex d-xl-none sw-dot-default sw-pagination-iconbox justify-content-center swiper-pagination-clickable swiper-pagination-bullets swiper-pagination-horizontal swiper-pagination-lock">
          <span
            class="swiper-pagination-bullet swiper-pagination-bullet-active"
            tabindex="0"
            role="button"
            aria-label="Go to slide 1"
            aria-current="true"
          ></span>
        </div>
        <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
      </div>
    </div>
  </div>
{% endif %}
<script src="{{ 'collection.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Collection",
  "settings": [
    {
      "type": "select",
      "id": "width",
      "label": "Section width",
      "options": [
        {
          "value": "full",
          "label": "Full width"
        },
        {
          "value": "boxed",
          "label": "Boxed"
        }
      ],
      "default": "boxed"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 36
    },
    {
      "type": "select",
      "id": "filter_type",
      "label": "Filter Type",
      "options": [
        {
          "value": "drawer",
          "label": "Drawer"
        },
        {
          "value": "left",
          "label": "Left Sidebar"
        },
        {
          "value": "right",
          "label": "Right Sidebar"
        },
        {
          "value": "horizontal",
          "label": "Horizontal"
        }
      ],
      "default": "drawer"
    },
    {
      "type": "select",
      "id": "default_grid_columns",
      "label": "Default Grid Columns",
      "options": [
        {
          "value": "3",
          "label": "3 Columns"
        },
        {
          "value": "4",
          "label": "4 Columns"
        }
      ],
      "default": "4"
    },
    {
      "type": "range",
      "id": "products_per_page",
      "label": "Products per page",
      "min": 8,
      "max": 48,
      "step": 4,
      "default": 12
    },
    {
      "type": "select",
      "id": "pagination_type",
      "label": "Pagination Type",
      "options": [
        {
          "value": "pagination",
          "label": "Pagination"
        },
        {
          "value": "load_more",
          "label": "Load More"
        },
        {
          "value": "infinite_scroll",
          "label": "Infinite Scroll"
        }
      ],
      "default": "pagination"
    },
    {
      "type": "header",
      "content": "On Sale Section"
    },
    {
      "type": "checkbox",
      "id": "show_on_sale",
      "label": "Show On Sale Section",
      "default": true
    },
    {
      "type": "text",
      "id": "on_sale_title",
      "label": "On Sale Title",
      "default": "On sale"
    },
    {
      "type": "select",
      "id": "on_sale_source",
      "label": "On Sale Products Source",
      "options": [
        {
          "value": "collection",
          "label": "Current Collection"
        },
        {
          "value": "product_list",
          "label": "Specific Products"
        }
      ],
      "default": "collection"
    },
    {
      "type": "product_list",
      "id": "on_sale_products",
      "label": "On Sale Products",
      "info": "Select specific products to show in the on sale section"
    },
    {
      "type": "header",
      "content": "Banner Section"
    },
    {
      "type": "checkbox",
      "id": "show_banner",
      "label": "Show Banner",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "filter_banner",
      "label": "Banner Image"
    },
    {
      "type": "text",
      "id": "banner_title",
      "label": "Banner Title",
      "default": "Elevate\nYour Style"
    },
    {
      "type": "text",
      "id": "banner_button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "banner_button_url",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Filter collections"
    },
    {
      "type": "text",
      "id": "collections_title",
      "label": "Collections Title",
      "default": "Collections",
      "info": "Not show if blank"
    },
    {
      "type": "radio",
      "id": "categories_mode",
      "label": "Show all / Show a link list",
      "options": [
        { "value": "all", "label": "Show all" },
        { "value": "link_list", "label": "Show link list" }
      ],
      "default": "all"
    },
    {
      "type": "link_list",
      "id": "categories_link_list",
      "label": "Choose link list"
    },
    {
      "type": "checkbox",
      "id": "categories_show_count",
      "label": "Show count",
      "default": false
    },
    {
      "type": "header",
      "content": "Description Section"
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show Description Section",
      "default": true
    },
    {
      "type": "range",
      "id": "description_padding_top",
      "label": "Description padding top",
      "min": 0,
      "max": 200,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "description_padding_bottom",
      "label": "Description padding bottom",
      "min": 0,
      "max": 200,
      "step": 4,
      "unit": "px",
      "default": 100
    },
    {
      "type": "text",
      "id": "related_collections_text",
      "label": "Related Collections Text",
      "default": "Looking for more? Don't miss out on our other exciting collections for"
    },
    {
      "type": "collection",
      "id": "related_collection_1",
      "label": "First Related Collection"
    },
    {
      "type": "collection",
      "id": "related_collection_2",
      "label": "Second Related Collection"
    },
    {
      "type": "header",
      "content": "Icon Box Section"
    },
    {
      "type": "checkbox",
      "id": "show_icon_box",
      "label": "Show Icon Box Section",
      "default": false
    },
    {
      "type": "text",
      "id": "icon_box_title_1",
      "label": "First Icon Title",
      "default": "Free Shipping"
    },
    {
      "type": "textarea",
      "id": "icon_box_desc_1",
      "label": "First Icon Description",
      "default": "Enjoy free shipping on all orders over $150"
    },
    {
      "type": "text",
      "id": "icon_box_title_2",
      "label": "Second Icon Title",
      "default": "Easy Returns"
    },
    {
      "type": "textarea",
      "id": "icon_box_desc_2",
      "label": "Second Icon Description",
      "default": "Hassle-free returns for a worry-free shopping experience."
    },
    {
      "type": "text",
      "id": "icon_box_title_3",
      "label": "Third Icon Title",
      "default": "24/7 Support"
    },
    {
      "type": "textarea",
      "id": "icon_box_desc_3",
      "label": "Third Icon Description",
      "default": "We are here for you anytime with 24/7 customer support."
    }
  ],
  "presets": [
    {
      "name": "Collection",
      "category": "Collection",
      "settings": {
        "width": "boxed",
        "padding_top": 36,
        "padding_bottom": 36,
        "filter_type": "drawer",
        "default_grid_columns": "4",
        "products_per_page": 12,
        "pagination_type": "pagination",
        "collections_title": "Collections",
        "show_on_sale": true,
        "on_sale_title": "On sale",
        "show_banner": true,
        "banner_title": "Elevate\nYour Style",
        "banner_button_text": "Shop Now"
      }
    }
  ]
}
{% endschema %}
